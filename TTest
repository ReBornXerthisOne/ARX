repeat wait() until game:GetService("Players").LocalPlayer
repeat wait() until game:GetService("ReplicatedStorage").Player_Data
repeat wait() until game:GetService("ReplicatedStorage").Player_Data:FindFirstChild(game:GetService("Players").LocalPlayer.Name)
repeat wait() until game:IsLoaded()
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local Players = game:GetService("Players")
local plr = Players.LocalPlayer

repeat wait() until ReplicatedStorage:FindFirstChild("Player_Data")
repeat wait() until ReplicatedStorage.Player_Data:FindFirstChild(plr.Name)
repeat wait() until ReplicatedStorage.Player_Data[plr.Name]:FindFirstChild("Collection")

local Collection = ReplicatedStorage.Player_Data[plr.Name].Collection

-- รอตรงนี้จนกว่าจะมี Children อย่างน้อย 1 ตัว
repeat wait() until #Collection:GetChildren() > 0
function loadcheck()
    local fileName = "RebornXer Hub Anime Rangers X [" .. game.Players.LocalPlayer.Name .. "].json"
    

    if not isfile(fileName) then
        writefile(fileName, game:GetService("HttpService"):JSONEncode(_G.SST))
        return
    end
end

pcall(function()
    _G.SST = {Select_UnitCL = "Select",Select_Vote = "VoteRetry",Auto_Upgrade = false,Auto_Play_Full = false,Auto_Vote = false,Auto_Upgtade_Maxyen = false,Auto_Vote_Start = false,Auto_Play = false,Black_Screen = false,Boost_Fps = false,Select_Farme_Rate = "60",Anti_AFK = true,Auto_Kick_Rejoin = false,Select_Deley_Vote = "1"}
end)


function LoadSetting()
    local fileName = "RebornXer Hub Anime Rangers X [" .. game.Players.LocalPlayer.Name .. "].json"
    if isfile(fileName) then
        local fileContent = readfile(fileName)
        local success, decoded = pcall(function()
            return game:GetService("HttpService"):JSONDecode(fileContent)
        end)
        
        if success then
            _G.SST = decoded
        end
    else
        SS()
    end
end

function SS()
    local fileName = "RebornXer Hub Anime Rangers X [" .. game.Players.LocalPlayer.Name .. "].json"
    
    if isfile(fileName) then
        writefile(fileName, game:GetService("HttpService"):JSONEncode(_G.SST))
    else
        loadcheck()
    end
end

loadcheck()
LoadSetting()
  
    local OCui = game.CoreGui:FindFirstChild("RebormXerOC")
    if OCui then
        OCui:Destroy()
    end
    
    local RebornXer = Instance.new("ScreenGui")
    local Open = Instance.new("TextButton")
    local fuckshit = Instance.new("UICorner")
    local MODILEMAGE = Instance.new("ImageLabel")
    local posto = Instance.new("UIStroke")
    
    local ScreenGui = Instance.new("ScreenGui")
    local ImageButton = Instance.new("ImageButton")
    
    -- กำหนดค่าเริ่มต้น
    ScreenGui.Parent = game.CoreGui
    ScreenGui.Name = "RebormXerOC"
    ScreenGui.ZIndexBehavior = Enum.ZIndexBehavior.Sibling
    
    ImageButton.Parent = ScreenGui
    ImageButton.Name = "Open/CloseUi"
    ImageButton.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
    ImageButton.BorderSizePixel = 0
    ImageButton.Position = UDim2.new(0.1, 0, 0.1, 0)
    ImageButton.Size = UDim2.new(0, 45, 0, 45)
    ImageButton.Draggable = true
    ImageButton.Image = "rbxassetid://108287073891881"
    
    -- ฟังก์ชันสำหรับการคลิก
    local TweenService = game:GetService("TweenService")
    ImageButton.MouseButton1Click:Connect(function()
        local ui = game:GetService("CoreGui"):FindFirstChild("RebornXer Hub") -- ค้นหา UI
        if ui and ui:FindFirstChild("Main") then -- ตรวจสอบว่ามี "Main" อยู่ใน UI
            local main = ui.Main
            if main.Size.X.Offset == 600 and main.Size.Y.Offset == 400 then
                local tween = TweenService:Create(
                    main,
                    TweenInfo.new(0.20, Enum.EasingStyle.Sine, Enum.EasingDirection.In), -- กำหนดเวลา 0.35 วินาที
                    {Size = UDim2.new(0, 0, 0, 0)}
                )
                tween:Play() -- เล่น Tween
            else
                local tween = TweenService:Create(
                    main,
                    TweenInfo.new(0.20, Enum.EasingStyle.Sine, Enum.EasingDirection.Out), -- กำหนดเวลา 0.35 วินาที
                    {Size = UDim2.new(0, 600, 0, 400)}
                )
                tween:Play() -- เล่น Tween
            end
        end
    end)
    
    
    fuckshit.Parent = Open
    
     MODILEMAGE.Name = "MODILEMAGE"
     MODILEMAGE.Parent = Open
     MODILEMAGE.BackgroundColor3 = Color3.fromRGB(51,255,255)
     MODILEMAGE.BackgroundTransparency = 1.000
     MODILEMAGE.BorderSizePixel = 0
     MODILEMAGE.Position = UDim2.new(0, 0.5, 0, 0)
     MODILEMAGE.Size = UDim2.new(0, 38, 0, 31)
     MODILEMAGE.Image = "rbxassetid://"
     
    posto.Name = "posto"
     posto.Parent = Open
     posto.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
     posto.Color = Color3.fromRGB(51,255,255)
     posto.LineJoinMode = Enum.LineJoinMode.Round
     posto.Thickness = 1
     posto.Transparency = 0
     posto.Enabled = true
     posto.Archivable = true
    
    
    
     _G.WindowBackgroundColor = Color3.fromRGB(0, 0, 0) -- พื้นหลังหน้าต่าง (ดำ)
     _G.BackgroundItemColor = Color3.fromRGB(30, 30, 30) -- พื้นหลังของไอเทม (ดำเข้ม)
     _G.TabWindowColor = Color3.fromRGB(20, 20, 20) -- สีแท็บหน้าต่าง (ดำเข้ม)
     _G.ContainerColor = Color3.fromRGB(40, 40, 40) -- สีคอนเทนเนอร์ (ดำเข้ม)
     _G.TitleTextColor = Color3.fromRGB(255, 255, 255) -- สีข้อความหัวเรื่อง (ขาว)
     _G.ImageColor = Color3.fromRGB(255, 255, 255) -- สีของรูปภาพ (ขาว)
     _G.LineThemeColor = Color3.fromRGB(255, 255, 255) -- สีเส้น (ขาว)
     _G.TabTextColor = Color3.fromRGB(255, 255, 255) -- สีข้อความในแท็บ (ขาว)
     _G.TabImageColor = Color3.fromRGB(255, 255, 255) -- สีรูปภาพในแท็บ (ขาว)
     _G.TabThemeColor = Color3.fromRGB(255, 255, 255) -- สีธีมของแท็บ (ขาว)
     _G.SectionColor = Color3.fromRGB(30, 30, 30) -- สีพื้นหลังของ Section (ดำเข้ม)
     _G.SectionImageColor = Color3.fromRGB(255, 255, 255) -- สีรูปภาพใน Section (ขาว)
     _G.SectionTextColor = Color3.fromRGB(255, 255, 255) -- สีข้อความใน Section (ขาว)
     _G.SectionOn = Color3.fromRGB(0, 255, 0) -- สีสถานะเปิดของ Section (เขียว)
     
    _G.Color1 = Color3.fromRGB(255,255,255)
    do local GUI = game.CoreGui:FindFirstChild("RebornXer Hub");if GUI then GUI:Destroy();end;if _G.Color == nil then
    _G.Color = Color3.fromRGB(255,255,255)
    end 
    end
    
    local tween = game:GetService("TweenService")
    local tweeninfo = TweenInfo.new
    local input = game:GetService("UserInputService")
    local run = game:GetService("RunService")
    local plr = game.Players.LocalPlayer
    local mouse = plr:GetMouse()
    
    local UserInputService = game:GetService("UserInputService")
    local TweenService = game:GetService("TweenService")
    
    local function MakeDraggable(topbarobject, object)
        local Dragging = nil
        local DragInput = nil
        local DragStart = nil
        local StartPosition = nil
    
        local function Update(input)
            local Delta = input.Position - DragStart
            local pos = UDim2.new(StartPosition.X.Scale, StartPosition.X.Offset + Delta.X, StartPosition.Y.Scale, StartPosition.Y.Offset + Delta.Y)
            local Tween = TweenService:Create(object, TweenInfo.new(0.15), {Position = pos})
            Tween:Play()
        end
    
        topbarobject.InputBegan:Connect(
            function(input)
                if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then
                    Dragging = true
                    DragStart = input.Position
                    StartPosition = object.Position
    
                    input.Changed:Connect(
                        function()
                            if input.UserInputState == Enum.UserInputState.End then
                                Dragging = false
                            end
                        end
                    )
                end
            end
        )
    
        topbarobject.InputChanged:Connect(
            function(input)
                if
                    input.UserInputType == Enum.UserInputType.MouseMovement or
                    input.UserInputType == Enum.UserInputType.Touch
                then
                    DragInput = input
                end
            end
        )
    
        UserInputService.InputChanged:Connect(
            function(input)
                if input == DragInput and Dragging then
                    Update(input)
                end
            end
        )
    end
    
    local Update = {}
    
    function Update:AddWindow(name,logo,keybind)
        local uihide = false
        local abc = false
        local logo = logo or 0
        local currentpage = ""
        local keybind = keybind or Enum.KeyCode.RightControl
        local yoo = string.gsub(tostring(keybind),"Enum.KeyCode.","")
        
        local RebornXer_Hub = Instance.new("ScreenGui")
        RebornXer_Hub.Name = "RebornXer Hub"
        RebornXer_Hub.Parent = game.CoreGui
        RebornXer_Hub.ZIndexBehavior = Enum.ZIndexBehavior.Sibling
    
    local osfunc = {}
     local osfunc2 = {}
        local Main = Instance.new("Frame")
        local WindowStrokemain = Instance.new("UIStroke")
        Main.Name = "Main"
        Main.Parent = RebornXer_Hub
        Main.ClipsDescendants = true
        Main.AnchorPoint = Vector2.new(0.5,0.5)
        Main.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
        Main.Position = UDim2.new(0.5, 0, 0.5, 0)
        Main.Size = UDim2.new(0, 0, 0, 0)
        
        WindowStrokemain.Name = "WindowStroke"
     WindowStrokemain.Parent = Main
     WindowStrokemain.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
     WindowStrokemain.Color = Color3.fromRGB(255,255,255)
     WindowStrokemain.LineJoinMode = Enum.LineJoinMode.Round
     WindowStrokemain.Thickness = 1
     WindowStrokemain.Transparency = 0
     WindowStrokemain.Enabled = true
     WindowStrokemain.Archivable = true
        
        Main:TweenSize(UDim2.new(0, 600, 0, 400),"Out","Quad",0,true)
    
        local MCNR = Instance.new("UICorner")
        MCNR.Name = "MCNR"
        MCNR.Parent = Main
    
        local Top = Instance.new("Frame")
        Top.Name = "Top"
        Top.Position = UDim2.new(0,0,0,4)
        Top.Parent = Main
        Top.BackgroundColor3 = Color3.fromRGB(45, 45, 45)
        Top.Size = UDim2.new(0, 560, 0, 28)
    
    
    
        local Logo = Instance.new("ImageLabel")
        Logo.Name = "Logo"
        Logo.Parent = Top
        Logo.BackgroundColor3 = Color3.fromRGB(255,255,255)
        Logo.BackgroundTransparency = 1.000
        Logo.Position = UDim2.new(0, 9, 0, 1)
        Logo.Size = UDim2.new(0, 30, 0, 25)
        Logo.Image = "rbxassetid://"..tostring(logo)
    
        local Name = Instance.new("TextLabel")
        Name.Name = "Name"
        Name.Parent = Top
        Name.BackgroundColor3 = Color3.fromRGB(0,255,255)
        Name.BackgroundTransparency = 1.000
        Name.Position = UDim2.new(0.1, 0, 0, 0)
        Name.Size = UDim2.new(0, 80, 0, 27)
        Name.Font = Enum.Font.Code
        Name.RichText = true;
        Name.Text = name
        Name.TextColor3 = Color3.fromRGB(225, 225, 225)
        Name.TextSize = 15.000
    
    local LocalizationService = game:GetService("LocalizationService")
     local Players = game:GetService("Players")
     local player = Players.LocalPlayer
     local name = player.Name
     local result, code = pcall(function()
         return LocalizationService:GetCountryRegionForPlayerAsync(player)
     end)
     
    function osfunc:Refresh(textadd)
     ServerTime.Text = textadd
     end
     function osfunc2:Refresh(textadd2)
     ServerDate.Text = textadd2
     end
    
     
    local ListNof = Instance.new("Frame")
        local NofList = Instance.new("UIListLayout")
    
        ListNof.Name = "ListNof"
        ListNof.Parent = RebornXer_Hub
        ListNof.BackgroundColor3 = Color3.fromRGB(255,255,255)
        ListNof.BackgroundTransparency = 1.000
        ListNof.Position = UDim2.new(0.778017223, 0, -0.00217864919, 0)
        ListNof.Size = UDim2.new(0, 206, 0, 400)
    
        NofList.Name = "NofList"
        NofList.Parent = ListNof
        NofList.SortOrder = Enum.SortOrder.LayoutOrder
        NofList.VerticalAlignment = Enum.VerticalAlignment.Top
        
        function Update:Nof(txt,tine)
            spawn(function()
                local Nof1 = Instance.new("Frame")
                local Nof2 = Instance.new("Frame")
                local Nof3 = Instance.new("Frame")
                local NofLabel = Instance.new("TextLabel")
                local slidenof = Instance.new("Frame")
                local Slide2 = Instance.new("Frame")
    
                Nof1.Name = "Nof1"
                Nof1.Parent = ListNof
                Nof1.BackgroundColor3 = Color3.fromRGB(51,255,255)
                Nof1.BackgroundTransparency = 1.000
                Nof1.BorderSizePixel = 0
                Nof1.Size = UDim2.new(0, 206, 0, 83)
    
                Nof2.Name = "Nof2"
                Nof2.Parent = Nof1
                Nof2.BackgroundColor3 = Color3.fromRGB(20, 20, 20)
                Nof2.BorderColor3 = Color3.fromRGB(0, 0, 0)
                Nof2.Position = UDim2.new(0, 0, 0.0120481923, 0)
                Nof2.Size = UDim2.new(0, 189, 0, 65)
                Instance.new("UICorner",Nof2)
                Instance.new("UICorner",slidenof)
                Instance.new("UICorner",Slide2)
    
    
                Nof3.Name = "Nof3"
                Nof3.Parent = Nof1
                Nof3.BackgroundColor3 = Color3.fromRGB(90, 90, 255)
                Nof3.BackgroundTransparency = 1
                Nof3.BorderSizePixel = 0
                Nof3.Position = UDim2.new(0, 0, 0.638554215, 0)
                Nof3.Size = UDim2.new(0, 189, 0, 7)
    
                NofLabel.Name = "NofLabel"
                NofLabel.Parent = Nof1
                NofLabel.BackgroundColor3 = Color3.fromRGB(51,255,255)
                NofLabel.BackgroundTransparency = 1.000
                NofLabel.BorderSizePixel = 0
                NofLabel.Position = UDim2.new(0, 0, 0.00463949936, 0)
                NofLabel.Size = UDim2.new(0, 188, 0, 52)
                NofLabel.ZIndex = 4
                NofLabel.Font = Enum.Font.Code
                NofLabel.TextColor3 = main_color or Color3.fromRGB(51,255,255)
                NofLabel.TextScaled = false
                NofLabel.TextSize = 18.000
                NofLabel.TextStrokeTransparency = 0.100
                NofLabel.TextTransparency = 0.100
                NofLabel.TextWrapped = true
                NofLabel.Text = txt or ""
    
                slidenof.Name = "slidenof"
                slidenof.Parent = Nof1
                slidenof.BackgroundColor3 = Color3.fromRGB(100, 100, 255)
                slidenof.BorderSizePixel = 0
                slidenof.Position = UDim2.new(0, 0, 0.638554215, 0)
                slidenof.Size = UDim2.new(0, 189, 0, 7)
    
                Slide2.Name = "Slide2"
                Slide2.Parent = Nof1
                Slide2.BorderSizePixel = 0
                Slide2.BackgroundColor3 = main_color or Color3.fromRGB(51,255,255)
                Slide2.BorderColor3 = Color3.fromRGB(0, 0, 0)
                Slide2.Position = UDim2.new(0, 0, 0.0120481923, 0)
                Slide2.Size = UDim2.new(0, 0, 0, 65)
                Slide2.ZIndex = 15
                Slide2.Visible = false
    
                tween:Create(slidenof,tweeninfo(tine or 2),{Size = UDim2.new(0, 0, 0, 7)}):Play()
                wait(tine or 2)
                Slide2.Visible = true
                tween:Create(Slide2,tweeninfo(0.2),{Size = UDim2.new(0, 190, 0, 65)}):Play()
                wait(0.2)
                tween:Create(Slide2,tweeninfo(0.2),{Size = UDim2.new(0, 0, 0, 65)}):Play()
                tween:Create(Nof3,tweeninfo(0.2),{Size = UDim2.new(0, 0, 0, 7)}):Play()
                tween:Create(NofLabel,tweeninfo(0.2),{Size = UDim2.new(0, 0, 0, 52)}):Play()
                tween:Create(Nof2,tweeninfo(0.2),{Size = UDim2.new(0, 0, 0, 65)}):Play()
                wait(0.2)
                Nof2.Visible = false
                game.Debris:AddItem(Nof1,0)
            end)
        end
    
     
    function Update:AddNotification(textdesc)
        local NotificationFrame = Instance.new("Frame")
        local OkayBtn = Instance.new("TextButton")
        local OkayBtnCorner = Instance.new("UICorner")
        local NotificationTitle = Instance.new("TextLabel")
        local NotificationDesc = Instance.new("TextLabel")
        local NotifCorner = Instance.new("UICorner")
        local NotifHolderUIStroke = Instance.new("UIStroke")
        local Line = Instance.new("Frame")
    
        local SectionColor = _G.SectionColor or Color3.fromRGB(255, 255, 255)
        local defaultOkayColor = Color3.fromRGB(12, 12, 12)
    
        NotificationFrame.Name = "NotificationFrame"
        NotificationFrame.Parent = RebornXer_Hub
        NotificationFrame.AnchorPoint = Vector2.new(0.5, 0.5) -- ตั้งจุดยึดตรงกลาง
        NotificationFrame.BackgroundColor3 = Color3.fromRGB(15, 15, 15)
        NotificationFrame.BorderColor3 = SectionColor
        NotificationFrame.BorderSizePixel = 0
        NotificationFrame.ClipsDescendants = true
        NotificationFrame.Position = UDim2.new(0.5, 0, 0.5, 0) -- ตั้งตำแหน่งตรงกลางจอ
        NotificationFrame.Size = UDim2.new(0, 0, 0, 0)
    
        NotificationFrame:TweenSize(UDim2.new(0, 400, 0, 200), Enum.EasingDirection.Out, Enum.EasingStyle.Quart, .6, true)
    
        NotifCorner.Parent = NotificationFrame
        NotifCorner.CornerRadius = UDim.new(0, 10) -- เพิ่มความโค้งเล็กน้อย
    
        NotifHolderUIStroke.Parent = NotificationFrame
        NotifHolderUIStroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
        NotifHolderUIStroke.Color = SectionColor
        NotifHolderUIStroke.Thickness = 1
    
        OkayBtn.Name = "OkayBtn"
        OkayBtn.Parent = NotificationFrame
        OkayBtn.BackgroundColor3 = defaultOkayColor
        OkayBtn.BorderSizePixel = 1
        OkayBtn.BorderColor3 = SectionColor
        OkayBtn.Position = UDim2.new(0.95, -25, 0.02, 0) -- ปุ่มปิดอยู่มุมขวาบน
        OkayBtn.Size = UDim2.new(0, 30, 0, 30)
        OkayBtn.Text = "X"
        OkayBtn.TextColor3 = Color3.fromRGB(255, 0, 0)
        OkayBtn.TextSize = 22.000
    
        OkayBtnCorner.CornerRadius = UDim.new(0, 5)
        OkayBtnCorner.Parent = OkayBtn
    
        NotificationTitle.Parent = NotificationFrame
        NotificationTitle.BackgroundTransparency = 1.000
        NotificationTitle.Position = UDim2.new(0.5, -200, 0, 20) -- ตำแหน่งกลาง
        NotificationTitle.Size = UDim2.new(0, 400, 0, 40)
        NotificationTitle.Font = Enum.Font.Code
        NotificationTitle.Text = "Notification"
        NotificationTitle.TextColor3 = Color3.fromRGB(0, 255, 255)
        NotificationTitle.TextSize = 28.000
        NotificationTitle.TextXAlignment = Enum.TextXAlignment.Center
    
        Line.Parent = NotificationFrame
        Line.BackgroundColor3 = SectionColor
        Line.BorderSizePixel = 0
        Line.Position = UDim2.new(0, 0, 0, 70)
        Line.Size = UDim2.new(1, 0, 0, 2)
    
        NotificationDesc.Parent = NotificationFrame
        NotificationDesc.BackgroundTransparency = 1.000
        NotificationDesc.Position = UDim2.new(0.5, -180, 0, 80)
        NotificationDesc.Size = UDim2.new(0, 360, 0, 100) -- ปรับขนาดข้อความให้เหมาะกับกรอบ
        NotificationDesc.Font = Enum.Font.Code
        NotificationDesc.Text = textdesc
        NotificationDesc.TextColor3 = _G.SectionTextColor or Color3.fromRGB(255, 255, 255)
        NotificationDesc.TextSize = 18.000
        NotificationDesc.TextWrapped = true
        NotificationDesc.TextXAlignment = Enum.TextXAlignment.Center
    
        OkayBtn.MouseEnter:Connect(function()
            TweenService:Create(OkayBtn, TweenInfo.new(.3, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), {BackgroundColor3 = Color3.fromRGB(30, 30, 30)}):Play()
        end)
    
        OkayBtn.MouseLeave:Connect(function()
            TweenService:Create(OkayBtn, TweenInfo.new(.2, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), {BackgroundColor3 = defaultOkayColor}):Play()
        end)
    
        OkayBtn.MouseButton1Click:Connect(function()
            NotificationFrame:TweenSize(UDim2.new(0, 0, 0, 0), Enum.EasingDirection.Out, Enum.EasingStyle.Quart, .6, true)
            wait(0.6)
            NotificationFrame:Destroy()
        end)
    end
    
    
    
    local Tab = Instance.new("ImageLabel")
    local WindowStrokelol = Instance.new("UIStroke")
     Tab.Name = "Tab"
     Tab.Parent = Top
     Tab.BackgroundColor3 = Color3.fromRGB(42, 42, 42)
     Tab.ImageTransparency = 1
     Tab.Position = UDim2.new(0, 160, 0, -2)
     Tab.Size = UDim2.new(0, 410, 0, 29)
     Tab.Image = "rbxassetid://6675147486"
     
     WindowStrokelol.Name = "WindowStroke"
     WindowStrokelol.Parent = Tab
     WindowStrokelol.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
     WindowStrokelol.Color = Color3.fromRGB(255,255,255)
     WindowStrokelol.LineJoinMode = Enum.LineJoinMode.Round
     WindowStrokelol.Thickness = 1
     WindowStrokelol.Transparency = 0
     WindowStrokelol.Enabled = true
     WindowStrokelol.Archivable = true
     
     local TCNR = Instance.new("UICorner")
     TCNR.Name = "TCNR"
     TCNR.Parent = Tab
     
     local ScrollTab = Instance.new("ScrollingFrame")
     ScrollTab.Name = "ScrollTab"
     ScrollTab.Parent = Tab
     ScrollTab.Active = true
     ScrollTab.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
     ScrollTab.BackgroundTransparency = 0
     ScrollTab.Size = UDim2.new(0, 433, 0, 29)
     ScrollTab.CanvasSize = UDim2.new(0, 0, 0, 0)
     ScrollTab.ScrollBarThickness = 0
     
     local PLL = Instance.new("UIListLayout")
     PLL.Name = "PLL"
     PLL.Parent = ScrollTab
     PLL.FillDirection = Enum.FillDirection.Horizontal
     PLL.SortOrder = Enum.SortOrder.LayoutOrder
     PLL.Padding = UDim.new(0)
     
     local PPD = Instance.new("UIPadding")
     PPD.Name = "PPD"
     PPD.Parent = ScrollTab
     PPD.PaddingLeft = UDim.new(0.01)
     
     local Page = Instance.new("Frame")
     local WindowStrokeshit = Instance.new("UIStroke")
     Page.Name = "Page"
     Page.Parent = Main
     Page.BackgroundColor3 = Color3.fromRGB(42, 42, 42)
     Page.BackgroundTransparency = 1
     Page.Position = UDim2.new(0, 1, 0.100000003, -5)
     Page.Size = UDim2.new(0, 300, 0, 380)
     
     WindowStrokeshit.Name = "WindowStroke"
     WindowStrokeshit.Parent = Page
     WindowStrokeshit.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
     WindowStrokeshit.Color = Color3.fromRGB(255,255,255)
     WindowStrokeshit.LineJoinMode = Enum.LineJoinMode.Round
     WindowStrokeshit.Thickness = 1
     WindowStrokeshit.Transparency = 0
     WindowStrokeshit.Archivable = false
     WindowStrokeshit.Enabled = true
     
     local lolshit = Instance.new("UICorner")
     
     lolshit.Parent = Top1
     
     
     local PCNR = Instance.new("UICorner")
     PCNR.Name = "PCNR"
     PCNR.Parent = Page
     
     local MainPage = Instance.new("Frame")
     MainPage.Name = "MainPage"
     MainPage.Parent = Page
     MainPage.ClipsDescendants = true
     MainPage.BackgroundColor3 = Color3.fromRGB(255,255,255)
     MainPage.BackgroundTransparency = 1.000
     MainPage.Size = UDim2.new(0, 300, 0, 380)
     
     local PageList = Instance.new("Folder")
     PageList.Name = "PageList"
     PageList.Parent = MainPage
     
     local UIPageLayout = Instance.new("UIPageLayout")
     
     UIPageLayout.Parent = PageList
     UIPageLayout.SortOrder = Enum.SortOrder.LayoutOrder
     UIPageLayout.EasingDirection = Enum.EasingDirection.InOut
     UIPageLayout.EasingStyle = Enum.EasingStyle.Quad
     UIPageLayout.FillDirection = Enum.FillDirection.Vertical
     UIPageLayout.Padding = UDim.new(0, 15)
     UIPageLayout.TweenTime = 0.400
     UIPageLayout.GamepadInputEnabled = false
     UIPageLayout.ScrollWheelInputEnabled = false
     UIPageLayout.TouchInputEnabled = false
    
    local Page2 = Instance.new("Frame")
     local WindowStrokeshit2 = Instance.new("UIStroke")
     Page2.Name = "Page2"
     Page2.Parent = Main
     Page2.BackgroundColor3 = Color3.fromRGB(42, 42, 42)
     Page2.BackgroundTransparency = 1
     Page2.Position = UDim2.new(0, 302, 0.100000003, -5)
     Page2.Size = UDim2.new(0, 300, 0, 378)
     
     WindowStrokeshit2.Name = "WindowStroke"
     WindowStrokeshit2.Parent = Page2
     WindowStrokeshit2.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
     WindowStrokeshit2.Color = Color3.fromRGB(255,255,255)
     WindowStrokeshit2.LineJoinMode = Enum.LineJoinMode.Round
     WindowStrokeshit2.Thickness = 1
     WindowStrokeshit2.Transparency = 0
     WindowStrokeshit2.Archivable = false
     WindowStrokeshit2.Enabled = true
     
     local lolshit2 = Instance.new("UICorner")
     
     lolshit2.Parent = Top1
     
     
     local PCNR2 = Instance.new("UICorner")
     PCNR2.Name = "PCNR"
     PCNR2.Parent = Page2
     
     local MainPage2 = Instance.new("Frame")
     MainPage2.Name = "MainPage"
     MainPage2.Parent = Page2
     MainPage2.ClipsDescendants = true
     MainPage2.BackgroundColor3 = Color3.fromRGB(255,255,255)
     MainPage2.BackgroundTransparency = 1.000
     MainPage2.Size = UDim2.new(0, 300, 0, 378)
     
     local PageList2 = Instance.new("Folder")
     PageList2.Name = "PageList"
     PageList2.Parent = MainPage2
     
     local UIPageLayout2 = Instance.new("UIPageLayout")
     
     UIPageLayout2.Parent = PageList2
     UIPageLayout2.SortOrder = Enum.SortOrder.LayoutOrder
     UIPageLayout2.EasingDirection = Enum.EasingDirection.InOut
     UIPageLayout2.EasingStyle = Enum.EasingStyle.Quad
     UIPageLayout2.FillDirection = Enum.FillDirection.Vertical
     UIPageLayout2.Padding = UDim.new(0, 15)
     UIPageLayout2.TweenTime = 0.400
     UIPageLayout2.GamepadInputEnabled = false
     UIPageLayout2.ScrollWheelInputEnabled = false
     UIPageLayout2.TouchInputEnabled = false
     
     MakeDraggable(Top,Main)
     
    local TweenService = game:GetService("TweenService")
    local UserInputService = game:GetService("UserInputService")
    
    local uihide = false
    UserInputService.InputBegan:Connect(function(input)
        if input.KeyCode == Enum.KeyCode[yoo] then -- แก้ไขเป็น KeyCode ที่ต้องการ
            if uihide == false then
                uihide = true
                local tween = TweenService:Create(
                    Main,
                    TweenInfo.new(0.35, Enum.EasingStyle.Sine, Enum.EasingDirection.In), -- กำหนดเวลา 1 วินาที
                    {Size = UDim2.new(0, 0, 0, 0)}
                )
                tween:Play()
            else
                uihide = false
                local tween = TweenService:Create(
                    Main,
                    TweenInfo.new(0.35, Enum.EasingStyle.Sine, Enum.EasingDirection.Out), -- กำหนดเวลา 1 วินาที
                    {Size = UDim2.new(0, 600, 0, 400)}
                )
                tween:Play()
            end
        end
    end)
        
    
    
     
        local uitab = {}
        
        function uitab:AddTab(text, img)
            local TabButton = Instance.new("TextButton")
            local TabImage = Instance.new("ImageLabel")
            local WindowStroke = Instance.new("UIStroke")
            local Label3 = Instance.new("TextLabel")
            local LabelTitle = Instance.new("TextLabel")
    local LabelTitle = Instance.new("TextLabel")
    
            TabButton.Parent = ScrollTab
            TabButton.Name = text.."Server"
            TabButton.Text = text
            TabButton.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
            TabButton.BackgroundTransparency = 0.1
            TabButton.Position = UDim2.new(0, 2, 0, 0)
            TabButton.Size = UDim2.new(0, 100, 0, 28)
            TabButton.Font = Enum.Font.Code
            TabButton.TextColor3 = Color3.fromRGB(255, 225, 225)
            TabButton.TextSize = 12.000
            TabButton.TextTransparency = 0
            
            
    local MCNR1 = Instance.new("UICorner")
        MCNR1.Name = "MCNR"
        MCNR1.Parent = TabButton
    
    WindowStroke.Name = "WindowStroke"
     WindowStroke.Parent = TabButton
     WindowStroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
     WindowStroke.Color = Color3.fromRGB(45,45,45)
     WindowStroke.LineJoinMode = Enum.LineJoinMode.Round
     WindowStroke.Thickness = 1
     WindowStroke.Transparency = 0
     WindowStroke.Enabled = true
     WindowStroke.Archivable = true
    
            local MainFramePage = Instance.new("ScrollingFrame")
            MainFramePage.Name = text.."_Page"
            MainFramePage.Parent = PageList
            MainFramePage.Active = true
            MainFramePage.BackgroundColor3 = Color3.fromRGB(51,255,255)
            MainFramePage.BackgroundTransparency = 1.000
            MainFramePage.BorderSizePixel = 1
            MainFramePage.Size = UDim2.new(0, 390, 0, 370)
            MainFramePage.CanvasSize = UDim2.new(0, 0, 0, 0)
            MainFramePage.ScrollBarThickness = 0
            
    
            
            local UIPadding = Instance.new("UIPadding")
            local UIListLayout = Instance.new("UIListLayout")
            
            UIPadding.Parent = MainFramePage
            UIPadding.PaddingLeft = UDim.new(0, 10)
            UIPadding.PaddingTop = UDim.new(0, 10)
    
            UIListLayout.Padding = UDim.new(0,4)
            UIListLayout.Parent = MainFramePage
            UIListLayout.SortOrder = Enum.SortOrder.LayoutOrder
            
            TabButton.MouseButton1Click:Connect(function()
local Sound = Instance.new("Sound", game:GetService("Workspace"))
Sound.Name = "Notify"
Sound.SoundId = "rbxassetid://903267862"
Sound.Looped = false
Sound.Volume = 1

-- เมื่อเสียงเล่นจบ ให้ลบออก
Sound.Ended:Connect(function()
    Sound:Destroy()
end)

Sound:Play() -- ใช้ Sound:Play() แทนการตั้ง Sound.Playing = true

                for i,v in next, ScrollTab:GetChildren() do
                    if v:IsA("TextButton") then
                        TweenService:Create(
                            v,
                            TweenInfo.new(0,Enum.EasingStyle.Quad,Enum.EasingDirection.Out),
                            {TextTransparency = 0}
                        ):Play()
                    end
                    TweenService:Create(
                        TabButton,
                        TweenInfo.new(0,Enum.EasingStyle.Quad,Enum.EasingDirection.Out),
                        {TextTransparency = 0}
                    ):Play()
                end
                for i,v in next, PageList:GetChildren() do
                    currentpage = string.gsub(TabButton.Name,"Server","").."_Page"
                    if v.Name == currentpage then
                        UIPageLayout:JumpTo(v)
                    end
                end
            end)
    
            if abc == false then
                
                for i,v in next, ScrollTab:GetChildren() do
                    if v:IsA("TextButton") then
                        TweenService:Create(
                            v,
                            TweenInfo.new(0,Enum.EasingStyle.Quad,Enum.EasingDirection.Out),
                            {TextTransparency = 0}
                        ):Play()
                    end
                    TweenService:Create(
                        TabButton,
                        TweenInfo.new(0,Enum.EasingStyle.Quad,Enum.EasingDirection.Out),
                        {TextTransparency = 0}
                    ):Play()
                end
                UIPageLayout:JumpToIndex(0)
                abc = true
            end
            
            game:GetService("RunService").Stepped:Connect(function()
                pcall(function()
                    MainFramePage.CanvasSize = UDim2.new(0,0,0,UIListLayout.AbsoluteContentSize.Y + 20)
                    ScrollTab.CanvasSize = UDim2.new(0,PLL.AbsoluteContentSize.X + 20,0,0)
                end)
            end)
     
     coroutine.wrap(function()
     while wait() do
     end
     end)()
     
         
     
     coroutine.wrap(function()
     while wait() do
     end
     end)()
        
        
        local MainFramePage2 = Instance.new("ScrollingFrame")
            MainFramePage2.Name = text.."_Page"
            MainFramePage2.Parent = PageList2
            MainFramePage2.Active = true
            MainFramePage2.BackgroundColor3 = Color3.fromRGB(51,255,255)
            MainFramePage2.BackgroundTransparency = 1.000
            MainFramePage2.BorderSizePixel = 0
            MainFramePage2.Size = UDim2.new(0, 320, 0, 370)
            MainFramePage2.CanvasSize = UDim2.new(0, 0, 0, 0)
            MainFramePage2.ScrollBarThickness = 0
            
            local UIPadding2 = Instance.new("UIPadding")
            local UIListLayout2 = Instance.new("UIListLayout")
            
            UIPadding2.Parent = MainFramePage2
            UIPadding2.PaddingLeft = UDim.new(0, 10)
            UIPadding2.PaddingTop = UDim.new(0, 10)
    
            UIListLayout2.Padding = UDim.new(0,4)
            UIListLayout2.Parent = MainFramePage2
            UIListLayout2.SortOrder = Enum.SortOrder.LayoutOrder
            
            TabButton.MouseButton1Click:Connect(function()
                for i,v in next, ScrollTab:GetChildren() do
                    if v:IsA("TextButton") then
                        TweenService:Create(
                            v,
                            TweenInfo.new(0,Enum.EasingStyle.Quad,Enum.EasingDirection.Out),
                            {TextTransparency = 0}
                        ):Play()
                    end
                    TweenService:Create(
                        TabButton,
                        TweenInfo.new(0,Enum.EasingStyle.Quad,Enum.EasingDirection.Out),
                        {TextTransparency = 0}
                    ):Play()
                end
                for i,v in next, PageList2:GetChildren() do
                    currentpage = string.gsub(TabButton.Name,"Server","").."_Page"
                    if v.Name == currentpage then
                        UIPageLayout2:JumpTo(v)
                    end
                end
            end)
    
            if abc == false then
                for i,v in next, ScrollTab:GetChildren() do
                    if v:IsA("TextButton") then
                        TweenService:Create(
                            v,
                            TweenInfo.new(0,Enum.EasingStyle.Quad,Enum.EasingDirection.Out),
                            {TextTransparency = 0}
                        ):Play()
                    end
                    TweenService:Create(
                        TabButton,
                        TweenInfo.new(0,Enum.EasingStyle.Quad,Enum.EasingDirection.Out),
                        {TextTransparency = 0}
                    ):Play()
                end
                UIPageLayout2:JumpToIndex(0)
                abc = true
            end
            
            game:GetService("RunService").Stepped:Connect(function()
                pcall(function()
                    MainFramePage2.CanvasSize = UDim2.new(0,0,0,UIListLayout2.AbsoluteContentSize.Y + 20)
                    ScrollTab.CanvasSize = UDim2.new(0,PLL.AbsoluteContentSize.X + 20,0,0)
                end)
            end)
     
     coroutine.wrap(function()
     while wait() do
     end
     end)()
     
         
     
     coroutine.wrap(function()
     while wait() do
     end
     end)()
        local abcd = false
         function uitab:AddTabH(text,img)
         local mainDiscord = Instance.new("ImageButton")
    
         mainDiscord.Name = "mainDiscord"
        mainDiscord.Parent = Top
        mainDiscord.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
        mainDiscord.BackgroundTransparency = 1.000
        mainDiscord.Position = UDim2.new(0, 565, 0, 0)
        mainDiscord.Size = UDim2.new(0, 30, 0, 30)
        mainDiscord.Image = "rbxassetid://"..tostring(img)
        mainDiscord.ImageColor3 = Color3.fromRGB(200, 200, 200)
        
            local MainFramePage = Instance.new("ScrollingFrame")
            MainFramePage.Name = text.."_Page"
            MainFramePage.Parent = PageList
            MainFramePage.Active = true
            MainFramePage.BackgroundColor3 = Color3.fromRGB(51,255,255)
            MainFramePage.BackgroundTransparency = 1.000
            MainFramePage.BorderSizePixel = 1
            MainFramePage.Size = UDim2.new(0, 390, 0, 370)
            MainFramePage.CanvasSize = UDim2.new(0, 0, 0, 0)
            MainFramePage.ScrollBarThickness = 0
            
    
            
            local UIPadding = Instance.new("UIPadding")
            local UIListLayout = Instance.new("UIListLayout")
            
            UIPadding.Parent = MainFramePage
            UIPadding.PaddingLeft = UDim.new(0, 10)
            UIPadding.PaddingTop = UDim.new(0, 10)
    
            UIListLayout.Padding = UDim.new(0,4)
            UIListLayout.Parent = MainFramePage
            UIListLayout.SortOrder = Enum.SortOrder.LayoutOrder
            
            mainDiscord.MouseButton1Click:Connect(function()
                local Sound = Instance.new("Sound", game:GetService("Workspace"))
Sound.Name = "Notify"
Sound.SoundId = "rbxassetid://3020841054"
Sound.Looped = false
Sound.Volume = 1

-- เมื่อเสียงเล่นจบ ให้ลบออก
Sound.Ended:Connect(function()
    Sound:Destroy()
end)

Sound:Play() -- ใช้ Sound:Play() แทนการตั้ง Sound.Playing = true

                for i,v in next, ScrollTab:GetChildren() do
                    if v:IsA("TextButton") then
                        TweenService:Create(
                            v,
                            TweenInfo.new(0,Enum.EasingStyle.Quad,Enum.EasingDirection.Out),
                            {TextTransparency = 0}
                        ):Play()
                    end
                    TweenService:Create(
                        TabButton,
                        TweenInfo.new(0,Enum.EasingStyle.Quad,Enum.EasingDirection.Out),
                        {TextTransparency = 0}
                    ):Play()
                end
                for i,v in next, PageList:GetChildren() do
                    currentpage2 = string.gsub(TabButton.Name,"Server","").."_Page"
                    if v.Name == currentpage2 then
                        UIPageLayout:JumpTo(v)
                    end
                end
            end)
    
            if abc == false then
                
                for i,v in next, ScrollTab:GetChildren() do
                    if v:IsA("TextButton") then
                        TweenService:Create(
                            v,
                            TweenInfo.new(0,Enum.EasingStyle.Quad,Enum.EasingDirection.Out),
                            {TextTransparency = 0}
                        ):Play()
                    end
                    TweenService:Create(
                        TabButton,
                        TweenInfo.new(0,Enum.EasingStyle.Quad,Enum.EasingDirection.Out),
                        {TextTransparency = 0}
                    ):Play()
                end
                UIPageLayout:JumpToIndex(0)
                abc = true
            end
            
            game:GetService("RunService").Stepped:Connect(function()
                pcall(function()
                    MainFramePage.CanvasSize = UDim2.new(0,0,0,UIListLayout.AbsoluteContentSize.Y + 20)
                    ScrollTab.CanvasSize = UDim2.new(0,PLL.AbsoluteContentSize.X + 20,0,0)
                end)
            end)
     
     coroutine.wrap(function()
     while wait() do
     end
     end)()
     
         
     
     coroutine.wrap(function()
     while wait() do
     end
     end)()
        
        
        local MainFramePage2 = Instance.new("ScrollingFrame")
            MainFramePage2.Name = text.."_Page"
            MainFramePage2.Parent = PageList2
            MainFramePage2.Active = true
            MainFramePage2.BackgroundColor3 = Color3.fromRGB(51,255,255)
            MainFramePage2.BackgroundTransparency = 1.000
            MainFramePage2.BorderSizePixel = 0
            MainFramePage2.Size = UDim2.new(0, 320, 0, 370)
            MainFramePage2.CanvasSize = UDim2.new(0, 0, 0, 0)
            MainFramePage2.ScrollBarThickness = 0
            
            local UIPadding2 = Instance.new("UIPadding")
            local UIListLayout2 = Instance.new("UIListLayout")
            
            UIPadding2.Parent = MainFramePage2
            UIPadding2.PaddingLeft = UDim.new(0, 10)
            UIPadding2.PaddingTop = UDim.new(0, 10)
    
            UIListLayout2.Padding = UDim.new(0,4)
            UIListLayout2.Parent = MainFramePage2
            UIListLayout2.SortOrder = Enum.SortOrder.LayoutOrder
            
            mainDiscord.MouseButton1Click:Connect(function()
                for i,v in next, ScrollTab:GetChildren() do
                    if v:IsA("TextButton") then
                        TweenService:Create(
                            v,
                            TweenInfo.new(0,Enum.EasingStyle.Quad,Enum.EasingDirection.Out),
                            {TextTransparency = 0}
                        ):Play()
                    end
                    TweenService:Create(
                        TabButton,
                        TweenInfo.new(0,Enum.EasingStyle.Quad,Enum.EasingDirection.Out),
                        {TextTransparency = 0}
                    ):Play()
                end
                for i,v in next, PageList2:GetChildren() do
                    currentpage2 = string.gsub(TabButton.Name,"Server","").."_Page"
                    if v.Name == currentpage2 then
                        UIPageLayout2:JumpTo(v)
                    end
                end
            end)
    
            if abc == false then
                for i,v in next, ScrollTab:GetChildren() do
                    if v:IsA("TextButton") then
                        TweenService:Create(
                            v,
                            TweenInfo.new(0,Enum.EasingStyle.Quad,Enum.EasingDirection.Out),
                            {TextTransparency = 0}
                        ):Play()
                    end
                    TweenService:Create(
                        mainDiscord,
                        TweenInfo.new(0,Enum.EasingStyle.Quad,Enum.EasingDirection.Out),
                        {TextTransparency = 0}
                    ):Play()
                end
                UIPageLayout2:JumpToIndex(0)
                abc = true
            end
            
            game:GetService("RunService").Stepped:Connect(function()
                pcall(function()
                    MainFramePage2.CanvasSize = UDim2.new(0,0,0,UIListLayout2.AbsoluteContentSize.Y + 20)
                    ScrollTab.CanvasSize = UDim2.new(0,PLL.AbsoluteContentSize.X + 20,0,0)
                end)
            end)
     
     coroutine.wrap(function()
     while wait() do
     end
     end)()
    
     
         
     
     coroutine.wrap(function()
     while wait() do
     end
     end)()
        end
        
            local main = {}
            local TweenService = game:GetService("TweenService")
    
    function main:AddButtonR(text, callback)
        if not MainFramePage2 then
            return
        end
        
        local Button2 = Instance.new("Frame")
        local UICorner2 = Instance.new("UICorner")
        local TextBtn2 = Instance.new("TextButton")
        local UICorner_1 = Instance.new("UICorner")
        local Black2 = Instance.new("Frame")
        local UICorner_2 = Instance.new("UICorner")
        
        Button2.Name = "Button"
        Button2.Parent = MainFramePage2
        Button2.BackgroundColor3 = _G.Color or Color3.new(1, 1, 1)
        Button2.Size = UDim2.new(0, 280, 0, 28)
        
        UICorner2.CornerRadius = UDim.new(0, 5)
        UICorner2.Parent = Button2
        
        TextBtn2.Name = "TextBtn"
        TextBtn2.Parent = Button2
        TextBtn2.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
        TextBtn2.Position = UDim2.new(0, 1, 0, 1)
        TextBtn2.Size = UDim2.new(0, 278, 0, 26)
        TextBtn2.AutoButtonColor = false
        TextBtn2.Font = Enum.Font.Code
        TextBtn2.Text = text
        TextBtn2.TextColor3 = Color3.fromRGB(225, 225, 225)
        TextBtn2.TextSize = 12
        
        UICorner_1.CornerRadius = UDim.new(0, 5)
        UICorner_1.Parent = TextBtn2
        
        Black2.Name = "Black"
        Black2.Parent = Button2
        Black2.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
        Black2.BackgroundTransparency = 1
        Black2.BorderSizePixel = 0
        Black2.Position = UDim2.new(0, 1, 0, 1)
        Black2.Size = UDim2.new(0, 280, 0, 26)
        
        UICorner_2.CornerRadius = UDim.new(0, 5)
        UICorner_2.Parent = Black2
    
        TextBtn2.MouseEnter:Connect(function()
            local tween = TweenService:Create(
                Black2,
                TweenInfo.new(0.4, Enum.EasingStyle.Quad, Enum.EasingDirection.Out),
                {BackgroundTransparency = 0.7}
            )
            tween:Play()
        end)
        
        TextBtn2.MouseLeave:Connect(function()
            local tween = TweenService:Create(
                Black2,
                TweenInfo.new(0.4, Enum.EasingStyle.Quad, Enum.EasingDirection.Out),
                {BackgroundTransparency = 1}
            )
            tween:Play()
        end)
        
        TextBtn2.MouseButton1Click:Connect(function()
            TextBtn2.TextSize = 0
            local tween = TweenService:Create(
                TextBtn2,
                TweenInfo.new(0.4, Enum.EasingStyle.Quad, Enum.EasingDirection.Out),
                {TextSize = 12}
            )
            tween:Play()
            if callback then
                callback()
            else
            end
        end)
    end
    
    function main:AddButtonL(text, callback)
        if not MainFramePage then
            return
        end
    
        local Button = Instance.new("Frame")
        local UICorner = Instance.new("UICorner")
        local TextBtn = Instance.new("TextButton")
        local UICorner_2 = Instance.new("UICorner")
        local Black = Instance.new("Frame")
        local UICorner_3 = Instance.new("UICorner")
        
        Button.Name = "Button"
        Button.Parent = MainFramePage
        Button.BackgroundColor3 = _G.Color or Color3.new(1, 1, 1)
        Button.Size = UDim2.new(0, 280, 0, 28)
        
        UICorner.CornerRadius = UDim.new(0, 5)
        UICorner.Parent = Button
        
        TextBtn.Name = "TextBtn"
        TextBtn.Parent = Button
        TextBtn.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
        TextBtn.Position = UDim2.new(0, 1, 0, 1)
        TextBtn.Size = UDim2.new(0, 278, 0, 26)
        TextBtn.AutoButtonColor = false
        TextBtn.Font = Enum.Font.Code
        TextBtn.Text = text
        TextBtn.TextColor3 = Color3.fromRGB(225, 225, 225)
        TextBtn.TextSize = 12
        
        UICorner_2.CornerRadius = UDim.new(0, 5)
        UICorner_2.Parent = TextBtn
        
        Black.Name = "Black"
        Black.Parent = Button
        Black.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
        Black.BackgroundTransparency = 1
        Black.BorderSizePixel = 0
        Black.Position = UDim2.new(0, 1, 0, 1)
        Black.Size = UDim2.new(0, 280, 0, 26)
        
        UICorner_3.CornerRadius = UDim.new(0, 5)
        UICorner_3.Parent = Black
    
        TextBtn.MouseEnter:Connect(function()
            local tween = TweenService:Create(
                Black,
                TweenInfo.new(0.4, Enum.EasingStyle.Quad, Enum.EasingDirection.Out),
                {BackgroundTransparency = 0.7}
            )
            tween:Play()
        end)
        
        TextBtn.MouseLeave:Connect(function()
            local tween = TweenService:Create(
                Black,
                TweenInfo.new(0.4, Enum.EasingStyle.Quad, Enum.EasingDirection.Out),
                {BackgroundTransparency = 1}
            )
            tween:Play()
        end)
        
        TextBtn.MouseButton1Click:Connect(function()
            TextBtn.TextSize = 0
            local tween = TweenService:Create(
                TextBtn,
                TweenInfo.new(0.4, Enum.EasingStyle.Quad, Enum.EasingDirection.Out),
                {TextSize = 12}
            )
            tween:Play()
            if callback then
                callback()
            else
            end
        end)
    end
    function main:AddToggle(text, config, callback, parentFrame)
    config = config or false
    local toggled = config
    local Toggle = Instance.new("Frame", parentFrame)
    local Button = Instance.new("TextButton", Toggle)
    local Label = Instance.new("TextLabel", Toggle)
    local ToggleImage = Instance.new("Frame", Toggle)
    local Circle = Instance.new("ImageLabel", ToggleImage)
    local True = Instance.new("TextLabel", Circle)

    -- Styling
    Toggle.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
    Toggle.Size = UDim2.new(0, 280, 0, 28)
-- After creating Toggle
local stroke = Instance.new("UIStroke")
stroke.Color = Color3.fromRGB(255, 255, 255)
stroke.Thickness = 1
stroke.Parent = Toggle
local corner = Instance.new("UICorner")
corner.CornerRadius = UDim.new(0, 4) -- ลองปรับเป็น 6 หรือ 8 เพื่อความมลนิดๆ
corner.Parent = Toggle -- หรือ frame (ใน dropdown)

    Button.Size = UDim2.new(0, 278, 0, 26)
    Button.Position = UDim2.new(0, 1, 0, 1)
    Button.Text = ""
    Button.BackgroundTransparency = 1

    Label.Text = text
    Label.Size = UDim2.new(0, 278, 0, 26)
    Label.Position = UDim2.new(0, 1, 0, 1)
    Label.BackgroundTransparency = 1
    Label.TextColor3 = Color3.fromRGB(255, 255, 255)
    Label.Font = Enum.Font.Code
    Label.TextSize = 12

    ToggleImage.Size = UDim2.new(0, 22, 0, 20)
    ToggleImage.Position = UDim2.new(0, 250, 0, 4)
    ToggleImage.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
    ToggleImage.BorderSizePixel = 0

    Circle.Size = UDim2.new(0, 18, 0, 16)
    Circle.Position = UDim2.new(0, 2, 0, 2)
    Circle.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
    Circle.BorderSizePixel = 0

    True.Size = UDim2.new(0, 18, 0, 16)
    True.BackgroundTransparency = 1
    True.TextColor3 = Color3.fromRGB(0, 255, 0)
    True.Text = toggled and "✔" or ""
    True.Font = Enum.Font.Code
    True.TextSize = 13

    Button.MouseButton1Click:Connect(function()
        toggled = not toggled
        True.Text = toggled and "✔" or ""
        TweenService:Create(Circle, TweenInfo.new(0.2), {
            BackgroundColor3 = toggled and Color3.fromRGB(0, 255, 0) or Color3.fromRGB(30, 30, 30)
        }):Play()
        pcall(callback, toggled)
    end)

    if config then
        TweenService:Create(Circle, TweenInfo.new(0.2), {
            BackgroundColor3 = Color3.fromRGB(0, 255, 0)
        }):Play()
        pcall(callback, toggled)
    end
end

function main:AddToggleL(text, config, callback)
    self:AddToggle(text, config, callback, MainFramePage)
end

function main:AddToggleR(text, config, callback)
    self:AddToggle(text, config, callback, MainFramePage2)
end

local function createDropdown(params)
    local parent    = params.parent or error("Parent is required")
    local title     = params.title or "Dropdown"
    local list      = params.list or {}
    local default   = params.config or "Select First"
    local callback  = params.callback or function() end

    local dropdown = {}
    local toggled = false
    local itemCount = 0
    local frameExtra = 0

    local dropSizeFrame = Instance.new("Frame")
    dropSizeFrame.Name = title
    dropSizeFrame.Parent = parent
    dropSizeFrame.BackgroundColor3 = _G.SectionColor
    dropSizeFrame.BackgroundTransparency = 1
    dropSizeFrame.Size = UDim2.new(0, 280, 0, 60)

    local frame = Instance.new("Frame")
    frame.Parent = dropSizeFrame
    frame.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
    frame.BorderSizePixel = 0
    frame.Position = UDim2.new(0, 3, 0, 0)
    frame.Size = UDim2.new(0, 278, 0, 60)

    local stroke = Instance.new("UIStroke")
	stroke.Parent = frame
	stroke.Thickness = 0.7
	stroke.Color = Color3.fromRGB(255, 255, 255)

    local dropCover = Instance.new("Frame")
    dropCover.Parent = frame
    dropCover.BackgroundTransparency = 1
    dropCover.Size = UDim2.new(0, 202, 0, 30)

    local imageLabel = Instance.new("ImageLabel")
    imageLabel.Parent = dropCover
    imageLabel.BackgroundTransparency = 1
    imageLabel.Position = UDim2.new(0, 5, 0, 6)
    imageLabel.Size = UDim2.new(0, 18, 0, 18)
    imageLabel.Image = "rbxassetid://8825010231"

    local space = Instance.new("TextLabel")
    space.Parent = dropCover
    space.BackgroundTransparency = 1
    space.Position = UDim2.new(0, 30, 0, 0)
    space.Size = UDim2.new(0, 15, 0, 30)
    space.Font = Enum.Font.Code
    space.Text = "|"
    space.TextSize = 13
    space.TextColor3 = Color3.fromRGB(255, 255, 255)

    local titleLabel = Instance.new("TextLabel")
    titleLabel.Parent = dropCover
    titleLabel.BackgroundTransparency = 1
    titleLabel.Position = UDim2.new(0, 50, 0, 0)
    titleLabel.Size = UDim2.new(0, 207, 0, 30)
    titleLabel.Font = Enum.Font.Code
    titleLabel.Text = title
    titleLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
    titleLabel.TextSize = 12
    titleLabel.TextXAlignment = Enum.TextXAlignment.Left

    local imageButton = Instance.new("ImageButton")
    imageButton.Parent = dropCover
    imageButton.BackgroundTransparency = 1
    imageButton.Position = UDim2.new(0, 250, 0, 7)
    imageButton.Size = UDim2.new(0, 23, 0, 18)
    imageButton.Image = "rbxassetid://79907159650860"
    imageButton.ImageColor3 = Color3.fromRGB(255, 255, 255)
    imageButton.Rotation = 180

    local dropTextList = Instance.new("TextLabel")
    dropTextList.Name = "DropTextList"
    dropTextList.Parent = frame
    dropTextList.BackgroundColor3 = _G.BackgroundItemColor
    dropTextList.BackgroundTransparency = 1
    dropTextList.Position = UDim2.new(0, 3, 0, 30)
    dropTextList.Size = UDim2.new(0, 278, 0, 25)
    dropTextList.Font = Enum.Font.Code
    dropTextList.Text = default
    dropTextList.TextColor3 = Color3.fromRGB(255, 255, 255)
    dropTextList.TextSize = 12
    dropTextList.TextXAlignment = Enum.TextXAlignment.Center

    Instance.new("UICorner", dropTextList)
    Instance.new("UIStroke", dropTextList).Thickness = 0.2

    local dropItemScroll = Instance.new("ScrollingFrame")
    dropItemScroll.Parent = frame
    dropItemScroll.BackgroundTransparency = 1
    dropItemScroll.Position = UDim2.new(0, 3, 0, 60)
    dropItemScroll.Size = UDim2.new(0, 278, 0, 0)
    dropItemScroll.ScrollBarThickness = 0
    dropItemScroll.CanvasSize = UDim2.new(0, 0, 0, 0)

    local dropItemLayout = Instance.new("UIListLayout")
    dropItemLayout.Parent = dropItemScroll
    dropItemLayout.SortOrder = Enum.SortOrder.LayoutOrder

    local function closeDropdown()
        toggled = false
        dropSizeFrame:TweenSize(UDim2.new(0, 278, 0, 60), 'InOut', 'Linear', 0.08)
        frame:TweenSize(UDim2.new(0, 278, 0, 60), 'InOut', 'Linear', 0.08)
        dropItemScroll:TweenSize(UDim2.new(0, 278, 0, 0), 'InOut', 'Linear', 0.08)
        game.TweenService:Create(imageButton, TweenInfo.new(0.08), {Rotation = 180}):Play()
    end

    local function resetDropdown()
        for _, v in pairs(dropItemScroll:GetChildren()) do
            if v:IsA("TextButton") then v:Destroy() end
        end

        itemCount = 0
        frameExtra = 0
        dropItemScroll.CanvasSize = UDim2.new(0, 0, 0, 0)

        for _, item in ipairs(list) do
            local button = Instance.new("TextButton")
            button.Parent = dropItemScroll
            button.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
            button.BorderSizePixel = 0
            button.Size = UDim2.new(0, 271, 0, 30)
            button.Font = Enum.Font.Code
            button.Text = item
            button.TextColor3 = Color3.fromRGB(255, 255, 255)
            button.TextSize = 12

            button.MouseButton1Click:Connect(function()
                callback(item)
                dropTextList.Text = item
                closeDropdown() -- <<< ปิดทันทีหลังเลือก
            end)

            itemCount += 1
            frameExtra += 30
        end

        dropItemScroll.CanvasSize = UDim2.new(0, 0, 0, frameExtra)
    end

    imageButton.MouseButton1Click:Connect(function()
        if toggled then
            closeDropdown()
        else
            resetDropdown()
            toggled = true
            dropSizeFrame:TweenSize(UDim2.new(0, 278, 0, 65 + frameExtra), 'InOut', 'Linear', 0.08)
            frame:TweenSize(UDim2.new(0, 278, 0, 65 + frameExtra), 'InOut', 'Linear', 0.08)
            dropItemScroll:TweenSize(UDim2.new(0, 278, 0, frameExtra), 'InOut', 'Linear', 0.08)
            game.TweenService:Create(imageButton, TweenInfo.new(0.08), {Rotation = 0}):Play()
        end
    end)

    return dropdown
end

function main:AddDropdownL(droptitle, list, config, callback)
    return createDropdown({
        parent = MainFramePage,
        title = droptitle,
        list = list,
        config = config,
        callback = callback,
        style = "L"
    })
end

-- สร้าง Dropdown ขวา (R)
function main:AddDropdownR(droptitle, list, config, callback)
    return createDropdown({
        parent = MainFramePage2,
        title = droptitle,
        list = list,
        config = config,
        callback = callback,
        style = "R"
    })
end

local function createMultiDropdown(params)
	local parent = params.parent or error("Parent is required")
	local title = params.title or "Multi Dropdown"
	local list = params.list or {}
	local default = params.config or {"Select . . ."}
	local callback = params.callback or function() end

	local selectedItems = {}
	for _, val in ipairs(default) do
		selectedItems[val] = true
	end

	local toggled = false
	local frameExtra = 0

	local dropFrame = Instance.new("Frame")
	dropFrame.Name = title
	dropFrame.Parent = parent
	dropFrame.BackgroundTransparency = 1
	dropFrame.Size = UDim2.new(0, 280, 0, 60)

	local base = Instance.new("Frame")
	base.Parent = dropFrame
	base.Size = UDim2.new(1, -2, 0, 60)
	base.Position = UDim2.new(0, 1, 0, 0)
	base.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
	base.BorderSizePixel = 0

	local corner = Instance.new("UICorner", base)
	corner.CornerRadius = UDim.new(0, 4)

	local stroke = Instance.new("UIStroke", base)
	stroke.Thickness = 0.7
	stroke.Color = Color3.fromRGB(255, 255, 255)

	local titleLabel = Instance.new("TextLabel")
	titleLabel.Parent = base
	titleLabel.Size = UDim2.new(1, -40, 0, 30)
	titleLabel.Position = UDim2.new(0, 10, 0, 0)
	titleLabel.BackgroundTransparency = 1
	titleLabel.Text = title
	titleLabel.Font = Enum.Font.Code
	titleLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
	titleLabel.TextSize = 12
	titleLabel.TextXAlignment = Enum.TextXAlignment.Left

	local toggleBtn = Instance.new("ImageButton")
	toggleBtn.Parent = base
	toggleBtn.Size = UDim2.new(0, 23, 0, 18)
	toggleBtn.Position = UDim2.new(1, -28, 0, 6)
	toggleBtn.BackgroundTransparency = 1
	toggleBtn.Image = "rbxassetid://79907159650860"
	toggleBtn.Rotation = 180

	local selectedText = Instance.new("TextLabel")
	selectedText.Parent = base
	selectedText.Position = UDim2.new(0, 3, 0, 30)
	selectedText.Size = UDim2.new(1, -6, 0, 25)
	selectedText.BackgroundTransparency = 1
	selectedText.Text = "Select . . ."
	selectedText.Font = Enum.Font.Code
	selectedText.TextColor3 = Color3.fromRGB(255, 255, 255)
	selectedText.TextSize = 12
	selectedText.TextXAlignment = Enum.TextXAlignment.Center

	local itemScroll = Instance.new("ScrollingFrame")
	itemScroll.Parent = base
	itemScroll.Position = UDim2.new(0, 3, 0, 60)
	itemScroll.Size = UDim2.new(1, -6, 0, 0)
	itemScroll.BackgroundTransparency = 1
	itemScroll.ScrollBarThickness = 0
	itemScroll.CanvasSize = UDim2.new(0, 0, 0, 0)
	itemScroll.ClipsDescendants = true

	local layout = Instance.new("UIListLayout", itemScroll)
	layout.SortOrder = Enum.SortOrder.LayoutOrder

	for _, item in ipairs(list) do
		local btn = Instance.new("TextButton")
		btn.Parent = itemScroll
		btn.Size = UDim2.new(1, 0, 0, 30)
		btn.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
		btn.TextColor3 = Color3.fromRGB(255, 255, 255)
		btn.TextSize = 14
		btn.Font = Enum.Font.Code
		btn.TextXAlignment = Enum.TextXAlignment.Left
		btn.Text = "☐ " .. item

		local function updateText()
			if selectedItems[item] then
				btn.Text = "☑ " .. item
			else
				btn.Text = "☐ " .. item
			end

			local resultList = {}
			for k, _ in pairs(selectedItems) do
				table.insert(resultList, k)
			end
			selectedText.Text = #resultList > 0 and table.concat(resultList, ", ") or "Select . . ."
			callback(resultList)
		end

		btn.MouseButton1Click:Connect(function()
			if selectedItems[item] then
				selectedItems[item] = nil
			else
				selectedItems[item] = true
			end
			updateText()
		end)

		updateText()
		frameExtra += 30
	end

	itemScroll.CanvasSize = UDim2.new(0, 0, 0, frameExtra)

	toggleBtn.MouseButton1Click:Connect(function()
		toggled = not toggled
		local newSize = toggled and (60 + frameExtra) or 60
		itemScroll:TweenSize(UDim2.new(1, -6, 0, toggled and frameExtra or 0), 'InOut', 'Linear', 0.1, true)
		base:TweenSize(UDim2.new(1, -2, 0, newSize), 'InOut', 'Linear', 0.1, true)
		dropFrame:TweenSize(UDim2.new(0, 280, 0, newSize), 'InOut', 'Linear', 0.1, true)
		toggleBtn.Rotation = toggled and 0 or 180
	end)

	return {
		GetSelected = function()
			local result = {}
			for k, _ in pairs(selectedItems) do
				table.insert(result, k)
			end
			return result
		end
	}
end

   
function main:AddMultiDropdownL(title, list, default, callback)
    return createMultiDropdown({
        parent = MainFramePage,
        title = title,
        list = list,
        config = default,
        callback = callback
    })
end

function main:AddMultiDropdownR(title, list, default, callback)
    return createMultiDropdown({
        parent = MainFramePage2,
        title = title,
        list = list,
        config = default,
        callback = callback
    })
end

    
    local function createSlider(parent, text, min, max, set, callback)
        local Slider = Instance.new("Frame")
        local slidercorner = Instance.new("UICorner")
        local sliderr = Instance.new("Frame")
        local sliderrcorner = Instance.new("UICorner")
        local SliderLabel = Instance.new("TextLabel")
        local AHEHE = Instance.new("TextButton")
        local bar = Instance.new("Frame")
        local bar1 = Instance.new("Frame")
        local bar1corner = Instance.new("UICorner")
        local circlebar = Instance.new("Frame")
        local UICorner = Instance.new("UICorner")
        local slidervalue = Instance.new("Frame")
        local valuecorner = Instance.new("UICorner")
        local TextBox = Instance.new("TextBox")
        local UICorner_2 = Instance.new("UICorner")
    
        Slider.Parent = parent
        Slider.BackgroundColor3 = _G.Color
        Slider.Size = UDim2.new(0, 280, 0, 51)
    
        slidercorner.CornerRadius = UDim.new(0, 5)
        slidercorner.Parent = Slider
    
        sliderr.Parent = Slider
        sliderr.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
        sliderr.Position = UDim2.new(0, 1, 0, 1)
        sliderr.Size = UDim2.new(0, 278, 0, 49)
    
        sliderrcorner.CornerRadius = UDim.new(0, 5)
        sliderrcorner.Parent = sliderr
    
        SliderLabel.Parent = sliderr
        SliderLabel.BackgroundTransparency = 1.0
        SliderLabel.Position = UDim2.new(0, 15, 0, 0)
        SliderLabel.Size = UDim2.new(0, 100, 0, 26)
        SliderLabel.Font = Enum.Font.Code
        SliderLabel.Text = text
        SliderLabel.TextColor3 = Color3.fromRGB(225, 225, 225)
        SliderLabel.TextSize = 16.0
        SliderLabel.TextXAlignment = Enum.TextXAlignment.Left
    
        AHEHE.Parent = sliderr
        AHEHE.BackgroundTransparency = 1.0
        AHEHE.Position = UDim2.new(0, 10, 0, 35)
        AHEHE.Size = UDim2.new(0, 260, 0, 5)
    
        bar.Parent = AHEHE
        bar.BackgroundColor3 = Color3.fromRGB(45, 45, 45)
        bar.Size = UDim2.new(0, 260, 0, 5)
    
        bar1.Parent = bar
        bar1.BackgroundColor3 = _G.Color
        bar1.Size = UDim2.new(set / max, 0, 0, 5)
    
        bar1corner.CornerRadius = UDim.new(0, 5)
        bar1corner.Parent = bar1
    
        circlebar.Parent = bar1
        circlebar.BackgroundColor3 = Color3.fromRGB(225, 225, 225)
        circlebar.Position = UDim2.new(1, -2, 0, -3)
        circlebar.Size = UDim2.new(0, 10, 0, 10)
    
        UICorner.CornerRadius = UDim.new(0, 100)
        UICorner.Parent = circlebar
    
        slidervalue.Parent = sliderr
        slidervalue.BackgroundColor3 = _G.Color
        slidervalue.Position = UDim2.new(0, 220, 0, 5)
        slidervalue.Size = UDim2.new(0, 50, 0, 15)
    
        valuecorner.CornerRadius = UDim.new(0, 5)
        valuecorner.Parent = slidervalue
    
        TextBox.Parent = slidervalue
        TextBox.BackgroundColor3 = Color3.fromRGB(35, 35, 35)
        TextBox.Position = UDim2.new(0, 1, 0, 1)
        TextBox.Size = UDim2.new(0, 48, 0, 13)
        TextBox.Font = Enum.Font.Code
        TextBox.TextColor3 = Color3.fromRGB(225, 225, 225)
        TextBox.TextSize = 9.0
        TextBox.Text = set
    
        UICorner_2.CornerRadius = UDim.new(0, 5)
        UICorner_2.Parent = TextBox
    
        local uis = game:GetService("UserInputService")
    
        local function updateSlider(input)
            local pos = math.clamp(input.Position.X - bar.AbsolutePosition.X, 0, 260)
            bar1.Size = UDim2.new(0, pos, 0, 5)
            circlebar.Position = UDim2.new(0, pos - 2, 0, -3)
    
            local Value = math.floor(((max - min) / 260) * pos + min)
            TextBox.Text = Value
            pcall(callback, Value)
        end
    
        AHEHE.InputBegan:Connect(function(input)
            if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then
                updateSlider(input)
    
                local moveConnection
                local releaseConnection
    
                moveConnection = uis.InputChanged:Connect(function(movingInput)
                    if movingInput.UserInputType == Enum.UserInputType.MouseMovement or movingInput.UserInputType == Enum.UserInputType.Touch then
                        updateSlider(movingInput)
                    end
                end)
    
                releaseConnection = uis.InputEnded:Connect(function(endedInput)
                    if endedInput.UserInputType == Enum.UserInputType.MouseButton1 or endedInput.UserInputType == Enum.UserInputType.Touch then
                        moveConnection:Disconnect()
                        releaseConnection:Disconnect()
                    end
                end)
            end
        end)
    
        TextBox.FocusLost:Connect(function()
            local Value = tonumber(TextBox.Text) or set
            if Value < min then Value = min end
            if Value > max then Value = max end
            TextBox.Text = Value
            bar1.Size = UDim2.new((Value - min) / (max - min), 0, 0, 5)
            pcall(callback, Value)
        end)
    end
    
    function main:AddSliderL(text, min, max, set, callback)
        createSlider(MainFramePage, text, min, max, set, callback)
    end
    
    function main:AddSliderR(text, min, max, set, callback)
        createSlider(MainFramePage2, text, min, max, set, callback)
    end
    
    
    
    function main:AddTextbox(position, parentFrame, text, texts, disappear, callback)
        local Textbox = Instance.new("Frame")
        local TextboxCorner = Instance.new("UICorner")
        local TextboxInner = Instance.new("Frame")
        local TextboxInnerCorner = Instance.new("UICorner")
        local TextboxLabel = Instance.new("TextLabel")
        local txtbtn = Instance.new("TextButton")
        local RealTextbox = Instance.new("TextBox")
        local UICorner = Instance.new("UICorner")
    
        -- Textbox Properties
        Textbox.Name = "Textbox"
        Textbox.Parent = parentFrame
        Textbox.BackgroundColor3 = _G.Color
        Textbox.Size = UDim2.new(0, 280, 0, 57)
    
        TextboxCorner.CornerRadius = UDim.new(0, 5)
        TextboxCorner.Parent = Textbox
    
        -- Inner Frame
        TextboxInner.Name = "TextboxInner"
        TextboxInner.Parent = Textbox
        TextboxInner.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
        TextboxInner.Position = UDim2.new(0, 1, 0, 1)
        TextboxInner.Size = UDim2.new(0, 278, 0, 55)
    
        TextboxInnerCorner.CornerRadius = UDim.new(0, 5)
        TextboxInnerCorner.Parent = TextboxInner
    
        -- Label
        TextboxLabel.Name = "TextboxLabel"
        TextboxLabel.Parent = Textbox
        TextboxLabel.BackgroundTransparency = 1.0
        TextboxLabel.Position = UDim2.new(0, 15, 0, 8)
        TextboxLabel.Size = UDim2.new(0, 250, 0, 12)
        TextboxLabel.Font = Enum.Font.Code
        TextboxLabel.Text = text
        TextboxLabel.TextColor3 = Color3.fromRGB(225, 225, 225)
        TextboxLabel.TextStrokeColor3 = Color3.fromRGB(0, 0, 0) -- Shadow Effect
        TextboxLabel.TextStrokeTransparency = 0.5
        TextboxLabel.TextSize = 12.0
        TextboxLabel.TextXAlignment = Enum.TextXAlignment.Left
    
        -- Input Box
        RealTextbox.Name = "RealTextbox"
        RealTextbox.Parent = Textbox
        RealTextbox.BackgroundColor3 = Color3.fromRGB(45, 45, 45)
        RealTextbox.Position = UDim2.new(0, 3, 0, 30)
        RealTextbox.Size = UDim2.new(0, 276, 0, 24)
        RealTextbox.Font = Enum.Font.Code
        RealTextbox.Text = texts
        RealTextbox.TextColor3 = Color3.fromRGB(255, 225, 225)
        RealTextbox.TextScaled = true
        RealTextbox.TextStrokeColor3 = Color3.fromRGB(0, 0, 0) -- Shadow Effect
        RealTextbox.TextStrokeTransparency = 0.5
        RealTextbox.TextSize = 11.0
    
        -- Disappear Effect
        RealTextbox.FocusLost:Connect(function()
            callback(RealTextbox.Text)
            if disappear then
                for i = 0, 1, 0.1 do
                    RealTextbox.TextTransparency = i
                    TextboxLabel.TextTransparency = i
                    task.wait(0.05)
                end
                RealTextbox.Text = ""
                TextboxLabel.TextTransparency = 0
                RealTextbox.TextTransparency = 0
            end
        end)
    
        -- Rounded Corners
        UICorner.CornerRadius = UDim.new(0, 5)
        UICorner.Parent = RealTextbox
    end
    
    -- Function Wrapper for Left & Right
    function main:AddTextboxL(text, texts, disappear, callback)
        self:AddTextbox("Left", MainFramePage, text, texts, disappear, callback)
    end
    
    function main:AddTextboxR(text, texts, disappear, callback)
        self:AddTextbox("Right", MainFramePage2, text, texts, disappear, callback)
    end
    
            
            function main:AddLabelL(text)
                local Label = Instance.new("TextLabel")
                local PaddingLabel = Instance.new("UIPadding")
                local labelfunc = {}
        
                Label.Name = "Label"
                Label.Parent = MainFramePage
                Label.BackgroundColor3 = Color3.fromRGB(51,255,255)
                Label.BackgroundTransparency = 1.000
                Label.Size = UDim2.new(0, 360, 0, 20)
                Label.Font = Enum.Font.Code
                Label.TextColor3 = Color3.fromRGB(225, 225, 225)
                Label.TextSize = 14.000
                Label.Text = text
                Label.TextXAlignment = Enum.TextXAlignment.Left
    
                PaddingLabel.PaddingLeft = UDim.new(0,15)
                PaddingLabel.Parent = Label
                PaddingLabel.Name = "PaddingLabel"
        
                function labelfunc:Set(newtext)
                Label.Text = newtext
            end
            return labelfunc
            end
    
            function main:AddLabelR(text)
                local Labell = Instance.new("TextLabel")
                local PaddingLabell = Instance.new("UIPadding")
                local labelfunc = {}
        
                Labell.Name = "Label"
                Labell.Parent = MainFramePage2
                Labell.BackgroundColor3 = Color3.fromRGB(51,255,255)
                Labell.BackgroundTransparency = 1.000
                Labell.Size = UDim2.new(0, 360, 0, 20)
                Labell.Font = Enum.Font.Code
                Labell.TextColor3 = Color3.fromRGB(225, 225, 225)
                Labell.TextSize = 14.000
                Labell.Text = text
                Labell.TextXAlignment = Enum.TextXAlignment.Left
    
                PaddingLabell.PaddingLeft = UDim.new(0,15)
                PaddingLabell.Parent = Labell
                PaddingLabell.Name = "PaddingLabel"
        
                function labelfunc:Set(newtext)
                Labell.Text = newtext
            end
            return labelfunc
            end
    
    
    function main:Label1(text)
                local Label1 = Instance.new("TextLabel")
                local PaddingLabel1 = Instance.new("UIPadding")
                local Label1func = {}
        
                Label1.Name = "Label1"
                Label1.Parent = MainFramePage
                Label1.BackgroundColor3 = Color3.fromRGB(51,255,255)
                Label1.BackgroundTransparency = 1.000
                Label1.Size = UDim2.new(0, 360, 0, 20)
                Label1.Font = Enum.Font.Code
                Label1.TextColor3 = Color3.fromRGB(225, 225, 225)
                Label1.TextSize = 15.000
                Label1.Text = text
                Label1.TextXAlignment = Enum.TextXAlignment.Left
    
                PaddingLabel1.PaddingLeft = UDim.new(0,15)
                PaddingLabel1.Parent = Label1
                PaddingLabel1.Name = "PaddingLabel1"
    function Label1func:Refresh(tochange)
     Label1.Text = tochange
    end
    
    return Label1func
    end
    
            function main:AddSeperatorL(text)
                local Seperator = Instance.new("Frame")
                local Sep1 = Instance.new("Frame")
                local Sep2 = Instance.new("TextLabel")
                local Sep3 = Instance.new("Frame")
                
                Seperator.Name = "Seperator"
                Seperator.Parent = MainFramePage
                Seperator.BackgroundColor3 = Color3.fromRGB(51,255,255)
                Seperator.BackgroundTransparency = 1.000
                Seperator.Size = UDim2.new(0, 280, 0, 20)
                
                Sep1.Name = "Sep1"
                Sep1.Parent = Seperator
                Sep1.BackgroundColor3 = _G.Color
                Sep1.BorderSizePixel = 0
                Sep1.Position = UDim2.new(0, 0, 0, 10)
                Sep1.Size = UDim2.new(0, 20, 0, 1)
                
                Sep2.Name = "Sep2"
                Sep2.Parent = Seperator
                Sep2.BackgroundColor3 = Color3.fromRGB(51,255,255)
                Sep2.BackgroundTransparency = 1.000
                Sep2.Position = UDim2.new(0, 0.01, 0, 0)
                Sep2.Size = UDim2.new(0, 280, 0, 20)
                Sep2.Font = Enum.Font.Code
                Sep2.Text = text
                Sep2.TextColor3 = Color3.fromRGB(51,255,255)
                Sep2.TextSize = 20.000
                
                Sep3.Name = "Sep3"
                Sep3.Parent = Seperator
                Sep3.BackgroundColor3 = _G.Color
                Sep3.BorderSizePixel = 0
                Sep3.Position = UDim2.new(0, 260, 0, 10)
                Sep3.Size = UDim2.new(0, 20, 0, 1)
            end
    
            function main:AddSeperatorR(text)
                local Seperator2 = Instance.new("Frame")
                local Sep4 = Instance.new("Frame")
                local Sep5 = Instance.new("TextLabel")
                local Sep6 = Instance.new("Frame")
                
                Seperator2.Name = "Seperator"
                Seperator2.Parent = MainFramePage2
                Seperator2.BackgroundColor3 = Color3.fromRGB(51,255,255)
                Seperator2.BackgroundTransparency = 1.000
                Seperator2.Size = UDim2.new(0, 280, 0, 20)
                
                Sep4.Name = "Sep1"
                Sep4.Parent = Seperator2
                Sep4.BackgroundColor3 = _G.Color
                Sep4.BorderSizePixel = 0
                Sep4.Position = UDim2.new(0, 0, 0, 10)
                Sep4.Size = UDim2.new(0, 20, 0, 1)
                
                Sep5.Name = "Sep2"
                Sep5.Parent = Seperator2
                Sep5.BackgroundColor3 = Color3.fromRGB(51,255,255)
                Sep5.BackgroundTransparency = 1.000
                Sep5.Position = UDim2.new(0, 0.01, 0, 0)
                Sep5.Size = UDim2.new(0, 280, 0, 20)
                Sep5.Font = Enum.Font.Code
                Sep5.Text = text
                Sep5.TextColor3 = Color3.fromRGB(51,255,255)
                Sep5.TextSize = 20.000
                
                Sep6.Name = "Sep3"
                Sep6.Parent = Seperator2
                Sep6.BackgroundColor3 = _G.Color
                Sep6.BorderSizePixel = 0
                Sep6.Position = UDim2.new(0, 260, 0, 10)
                Sep6.Size = UDim2.new(0, 20, 0, 1)
            end
    
    
            function main:AddLineL()
                local Linee = Instance.new("Frame")
                local Line = Instance.new("Frame")
                
                Linee.Name = "Linee"
                Linee.Parent = MainFramePage
                Linee.BackgroundColor3 = Color3.fromRGB(255,0,0)
                Linee.BackgroundTransparency = 1.000
                Linee.Position = UDim2.new(0, 0, 0.119999997, 0)
                Linee.Size = UDim2.new(0, 280, 0, 20)
                
                Line.Name = "Line"
                Line.Parent = Linee
                Line.BackgroundColor3 = _G.Color
                Line.BorderSizePixel = 0
                Line.Position = UDim2.new(0, 0, 0, 10)
                Line.Size = UDim2.new(0, 280, 0, 1)
            end
            
            function main:AddLineR()
                local Lineee = Instance.new("Frame")
                local Line1 = Instance.new("Frame")
                
                Lineee.Name = "Linee"
                Lineee.Parent = MainFramePage2
                Lineee.BackgroundColor3 = Color3.fromRGB(255,0,0)
                Lineee.BackgroundTransparency = 1.000
                Lineee.Position = UDim2.new(0, 0, 0.119999997, 0)
                Lineee.Size = UDim2.new(0, 280, 0, 20)
                
                Line1.Name = "Line"
                Line1.Parent = Lineee
                Line1.BackgroundColor3 = _G.Color
                Line1.BorderSizePixel = 0
                Line1.Position = UDim2.new(0, 0, 0, 10)
                Line1.Size = UDim2.new(0, 280, 0, 1)
            end
            
            return main
        end
        return uitab
    end


    local RebornXerUiMain = Update:AddWindow("RebornXer Hub", "10039618734", Enum.KeyCode.RightControl)

    local MAIN = RebornXerUiMain:AddTab("Main", "6026568198")
    local AP = RebornXerUiMain:AddTab("Auto Pley", "")
	local CH = RebornXerUiMain:AddTab("Item Check", "")
    local WH = RebornXerUiMain:AddTab("WebHook - BostFps", "")
    local DEVFUNCTION = RebornXerUiMain:AddTab("", "")
    local S = RebornXerUiMain:AddTabH("Top", "14134158045")
    
    MAIN:AddSeperatorL("Info")
    MAIN:AddLabelL("Wecome To RebornXer Hub Script")
    MAIN:AddLabelL("Map : Anime Rangers X")
    Date = os.date("%d" .. " " .. "%B" .. " " .. "%Y")
    MAIN:AddLabelL("Day : " .. Date)
    MAIN:AddLineL("")

   MAIN:AddSeperatorL("Join Story")

   MAIN:AddSeperatorL("Join Ranger")
 MAIN:AddToggleL("Auto Join Ranger", _G.SST.Auto_Join_Ranger, function(value)
    Auto_Join_Ranger = value
    _G.SST.Auto_Join_Ranger = Auto_Join_Ranger
    SS()
end)

local function startRangerStage(worldName, chapterName)
    local playRoomEvent = game:GetService("ReplicatedStorage"):WaitForChild("Remote")
        :WaitForChild("Server"):WaitForChild("PlayRoom"):WaitForChild("Event")

    playRoomEvent:FireServer("Create")
    playRoomEvent:FireServer("Change-Mode", { Mode = "Ranger Stage" })
    playRoomEvent:FireServer("Change-World", { World = worldName })
    playRoomEvent:FireServer("Change-Chapter", { Chapter = chapterName })
    playRoomEvent:FireServer("Submit") 
    wait(0.1)
    playRoomEvent:FireServer("Start")
end

local allStages = {
    { world = "OnePiece", chapter = "OnePiece_RangerStage1" },
    { world = "Namek", chapter = "Namek_RangerStage1" },
    { world = "DemonSlayer", chapter = "DemonSlayer_RangerStage1" },
    { world = "Naruto", chapter = "Naruto_RangerStage1" },
    { world = "OPM", chapter = "OPM_RangerStage1" },
    { world = "OnePiece", chapter = "OnePiece_RangerStage2" },
    { world = "Namek", chapter = "Namek_RangerStage2" },
    { world = "DemonSlayer", chapter = "DemonSlayer_RangerStage2" },
    { world = "Naruto", chapter = "Naruto_RangerStage2" },
    { world = "OPM", chapter = "OPM_RangerStage2" },
    { world = "OnePiece", chapter = "OnePiece_RangerStage3" },
    { world = "Namek", chapter = "Namek_RangerStage3" },
    { world = "DemonSlayer", chapter = "DemonSlayer_RangerStage3" },
    { world = "Naruto", chapter = "Naruto_RangerStage3" },
    { world = "OPM", chapter = "OPM_RangerStage3" },
}


-- วนลูปแบบเรียงลำดับ
task.spawn(function()
    local player = game:GetService("Players").LocalPlayer
    local PyName = player.Name
    local rangerStage = game:GetService("ReplicatedStorage").Player_Data:FindFirstChild(PyName).RangerStage

    while task.wait() do
        if _G.SST.Auto_Join_Ranger and workspace:FindFirstChild("Lobby") and #rangerStage:GetChildren() < 15 then 
            for _, stage in ipairs(allStages) do
                while workspace:FindFirstChild("Lobby")
                    and _G.SST.Auto_Join_Ranger
                    and #rangerStage:GetChildren() < 15
                    and not player.PlayerGui:FindFirstChild("SystemMessage") do

                    task.wait()
                    startRangerStage(stage.world, stage.chapter)
                    -- ไม่ต้องใช้ childrenCount แยกอีกแล้ว ใช้ #rangerStage:GetChildren() ตรงๆ
                end
            end
        end
    end
end)








MAIN:AddToggleL("Auto Join Challenge", _G.SST.Auto_Join_Challenge, function(value)
    Auto_Join_Challenge = value
	_G.SST.Auto_Join_Challenge = Auto_Join_Challenge
    SS()
end)

spawn(function()
    while wait() do
        if _G.SST.Auto_Join_Challenge and workspace:FindFirstChild("Lobby") then
            repeat wait()
                local ChallengeList = {
    [1] = "Create",
    [2] = {
        ["CreateChallengeRoom"] = true
    }
}

game:GetService("ReplicatedStorage"):WaitForChild("Remote"):WaitForChild("Server"):WaitForChild("PlayRoom"):WaitForChild("Event"):FireServer(unpack(ChallengeList))
                game:GetService("ReplicatedStorage"):WaitForChild("Remote"):WaitForChild("Server"):WaitForChild("PlayRoom"):WaitForChild("Event"):FireServer("Start")
            until not _G.SST.Auto_Join_Challenge or not workspace:FindFirstChild("Lobby") or game:GetService("Players").LocalPlayer.PlayerGui:FindFirstChild("SystemMessage")
        end
    end
end)    

MAIN:AddToggleL("Auto Join Event Easter", _G.SST.Auto_Join_EventEaster, function(value)
    Auto_Join_EventEaster = value
    _G.SST.Auto_Join_EventEaster = Auto_Join_EventEaster
    SS()
end)
-- Services & Variables
spawn(function()
    while wait() do
        pcall(function()
            if _G.SST.Auto_Join_EventEaster and  workspace:FindFirstChild("Lobby") then
                repeat wait()
                    game:GetService("ReplicatedStorage"):WaitForChild("Remote"):WaitForChild("Server"):WaitForChild("PlayRoom"):WaitForChild("Event"):FireServer("Easter-Event")
                    game:GetService("ReplicatedStorage"):WaitForChild("Remote"):WaitForChild("Server"):WaitForChild("PlayRoom"):WaitForChild("Event"):FireServer("Start")
                until not workspace:FindFirstChild("Lobby") or not _G.SST.Auto_Join_EventEaster or game:GetService("Players").LocalPlayer.PlayerGui:FindFirstChild("SystemMessage")
            end
        end)
    end
end)


MAIN:AddSeperatorR("Stats Potential")

local rs = game:GetService("ReplicatedStorage")
local plr = game:GetService("Players").LocalPlayer
local remote = rs.Remote.Server.Gambling.RerollPotential
local UnitList = {}

-- ตรวจสอบ Collection
local PlayerData = rs:WaitForChild("Player_Data"):FindFirstChild(plr.Name)
if not PlayerData then
    warn("ไม่พบข้อมูล Player_Data ของผู้เล่น:", plr.Name)
    return
end

local GetUnitPlayer = PlayerData:FindFirstChild("Collection")
if not GetUnitPlayer then
    warn("ไม่พบ Collection ของผู้เล่น")
    return
end

-- ดึงรายชื่อยูนิต
for _, unit in ipairs(GetUnitPlayer:GetChildren()) do
    table.insert(UnitList, unit.Name)
end

-- ตัวแปรและค่าเริ่มต้น
_G.SST = _G.SST or {}
_G.SST.Select_UnitCL = _G.SST.Select_UnitCL or "Selecting"
_G.SST.Select_Potential = _G.SST.Select_Potential or {}
_G.SST.Select_Stats = _G.SST.Select_Stats or {}
_G.SST.Auto_ReRoll = _G.SST.Auto_ReRoll or false

-- Dropdown เลือกยูนิต
MAIN:AddDropdownR("Select Unit", UnitList, _G.SST.Select_UnitCL, function(value)
    _G.SST.Select_UnitCL = value
    SS()
end)

-- MultiDropdown สำหรับ Potential / Stats
local PotentialList = {"Speed", "Range", "Health", "Damage", "AttackCooldown"}
local StatsList = {"C-", "C", "C+", "B-", "B", "B+", "A-", "A","A+","S-","S","S+","SS","SSS","O-","O","O+"}

MAIN:AddMultiDropdownR("Select Potential", PotentialList, _G.SST.Select_Potential, function(value)
    _G.SST.Select_Potential = value
    SS()
end)

MAIN:AddMultiDropdownR("Select Stats", StatsList, _G.SST.Select_Stats, function(value)
    _G.SST.Select_Stats = value
    SS()
end)

-- Toggle Auto ReRoll
MAIN:AddToggleR("Auto ReRoll Stats Potential", _G.SST.Auto_ReRoll_Stats_Potential, function(value)
    _G.SST.Auto_ReRoll_Stats_Potential = value
    SS()
end)

-- ฟังก์ชันหลักสำหรับ ReRoll
-- ฟังก์ชันหลักสำหรับ ReRoll
task.spawn(function()
    while task.wait(0.5) do
        pcall(function()
            if _G.SST.Auto_ReRoll_Stats_Potential and _G.SST.Select_UnitCL and #_G.SST.Select_Potential > 0 then
                local selectedUnit = GetUnitPlayer:FindFirstChild(_G.SST.Select_UnitCL)
                if selectedUnit and selectedUnit:FindFirstChild("Tag") then
                    local unitTag = selectedUnit.Tag.Value

                    -- แปลง Select_Stats เป็น set table
                    local desiredStats = {}
                    for _, stat in ipairs(_G.SST.Select_Stats) do
                        desiredStats[stat] = true
                    end

                    for _, potentialType in ipairs(_G.SST.Select_Potential) do
                        local potential = selectedUnit:FindFirstChild(potentialType .. "Potential")
                        if potential and not desiredStats[potential.Value] then
                            local args = {
                                potentialType,
                                unitTag,
                                "Selective"
                            }
                            remote:FireServer(unpack(args))
                            repeat task.wait(0.2) until potential.Value ~= "" -- รอเปลี่ยนค่า
                        end
                    end
                end
            end
        end)
    end
end)


local NameUnit = MAIN:AddLabelR("")
local CodeUnit = MAIN:AddLabelR("")
local SpeedPot = MAIN:AddLabelR("")
local RangePot = MAIN:AddLabelR("")
local HealthPot = MAIN:AddLabelR("")
local DamagePot = MAIN:AddLabelR("")
local CooldownPot = MAIN:AddLabelR("")

spawn(function()
    while wait(0) do
        pcall(function()
            local unit = GetUnitPlayer:FindFirstChild(_G.SST.Select_UnitCL)
            if unit then
                NameUnit:Set("Name Unit  : " .. unit.Name)
                CodeUnit:Set("CodeName Unit  : " .. unit.Tag.Value)
                SpeedPot:Set("Speed Potential       : " .. unit.SpeedPotential.Value)
                RangePot:Set("Range Potential       : " .. unit.RangePotential.Value)
                HealthPot:Set("Health Potential      : " .. unit.HealthPotential.Value)
                DamagePot:Set("Damage Potential      : " .. unit.DamagePotential.Value)
                CooldownPot:Set("Attack Cooldown Pot. : " .. unit.AttackCooldownPotential.Value)
                Trait:Set("Trait : " .. unit.PrimaryTrait.Value)
            end
        end)
    end
end)

MAIN:AddSeperatorR("Trait Reroll")
local TraitList = {"Superior I", "Superior II", "Superior III", "Horizon I", "Horizon II", "Horizon III", "Endure I", "Endure II","Endure III","Brute","Sniper","Colossal","Investor","Jokester","Blitz","Juggernaut","Millionaire","Violent","Seraph","Capitalist","Duplicator","Sovereign"}

MAIN:AddMultiDropdownR("Select Trait", TraitList, _G.SST.Select_Trait, function(value)
    _G.SST.Select_Trait = value
    SS()
end)

MAIN:AddToggleR("Auto Reroll Trait",_G.SST.Auto_Reroll_Trait,function(value)
Auto_Reroll_Trait = value
_G.SST.Auto_Reroll_Trait = Auto_Reroll_Trait
SS()
end)

local Trait = MAIN:AddLabelR("")

spawn(function()
    while wait(0) do
        pcall(function()
            local unit = GetUnitPlayer:FindFirstChild(_G.SST.Select_UnitCL)
            if unit then
                NameUnit:Set("Name Unit  : " .. unit.Name)
                CodeUnit:Set("CodeName Unit  : " .. unit.Tag.Value)
                SpeedPot:Set("Speed Potential       : " .. unit.SpeedPotential.Value)
                RangePot:Set("Range Potential       : " .. unit.RangePotential.Value)
                HealthPot:Set("Health Potential      : " .. unit.HealthPotential.Value)
                DamagePot:Set("Damage Potential      : " .. unit.DamagePotential.Value)
                CooldownPot:Set("Attack Cooldown Pot. : " .. unit.AttackCooldownPotential.Value)
                Trait:Set("Trait : " .. unit.PrimaryTrait.Value)
            end
        end)
    end
end)


AP:AddSeperatorL("Auto Play")
AP:AddToggleL("Auto Play",_G.SST.Auto_Play,function(value)
Auto_Play = value
_G.SST.Auto_Play = Auto_Play
SS()
end)

 

local Players = game:GetService("Players")
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local PN = Players.LocalPlayer.Name
local PlayerData = ReplicatedStorage:WaitForChild("Player_Data"):WaitForChild(PN)
local AutoPlayRemote = ReplicatedStorage:WaitForChild("Remote"):WaitForChild("Server"):WaitForChild("Units"):WaitForChild("AutoPlay")


spawn(function()
	while wait(1) do -- ปรับ wait ให้เป็น 1 วิ เพื่อลดภาระ CPU
		pcall(function()
			if _G.SST.Auto_Play then
				if PlayerData.Data.AutoPlay.Value == false then
                    repeat wait()
					AutoPlayRemote:FireServer()
                    until _G.SST.Auto_Play or PlayerData.Data.AutoPlay.Value == true
				end
			end
		end)
	end
end) 



AP:AddSeperatorR("Game Server")

local listee = {"VoteRetry", "VoteNext"}

_G.SST.Select_Vote = type(_G.SST.Select_Vote) == "table" and _G.SST.Select_Vote or {}

AP:AddMultiDropdownR("Select Vote", listee, _G.SST.Select_Vote, function(value)
    Select_Vote = value
    _G.SST.Select_Vote = Select_Vote 
    pcall(SS)
end)


AP:AddToggleR("Auto Vote", _G.SST.Auto_Vote, function(state)
    Auto_Vote = state
	_G.SST.Auto_Vote = Auto_Vote 

    SS()
end)

AP:AddSeperatorR("Vote Start")
Select_Deley_Vote = _G.SST.Select_Deley_Vote or "1"
AP:AddSliderR("Select Deley Vote","0","10",_G.SST.Select_Deley_Vote,function(value)
    Select_Deley_Vote = value
    _G.SST.Select_Deley_Vote = Select_Deley_Vote
    SS()
end)
    AP:AddToggleR("Auto Vote Start", _G.SST.Auto_Vote_Start, function(state)
    Auto_Vote_Start = state
	_G.SST.Auto_Vote_Start = Auto_Vote_Start 

    SS()
end)

AP:AddSeperatorR("Unit Upgrade")
local player = game:GetService("Players").LocalPlayer
local unitNames = {"All Unit"}

-- ตรวจสอบก่อนว่า UnitsFolder มีอยู่ไหม
if player:FindFirstChild("UnitsFolder") then
    local unitsFolder = player.UnitsFolder
    for _, unit in ipairs(unitsFolder:GetChildren()) do
        table.insert(unitNames, unit.Name)
    end
end

-- ตรงนี้จะทำงานไม่ว่าจะมี UnitsFolder หรือไม่
AP:AddDropdownR("Select Unit to Upgrade", unitNames, _G.SST.Select_Unit, function(value)
    Select_Unit = value
    _G.SST.Select_Unit = Select_Unit
    SS()
end)

AP:AddToggleR("Auto Upgrade Unit", _G.SST.Auto_Upgrade, function(state)
    Auto_Upgrade = state
	_G.SST.Auto_Upgrade = Auto_Upgrade 

    SS()
end)
AP:AddToggleR("Wait For Upgrade Unit", _G.SST.Wait_For_Upgrade_Unit, function(state)
    Wait_For_Upgrade_Unit = state
	_G.SST.Wait_For_Upgrade_Unit = Wait_For_Upgrade_Unit 

    SS()
end)

spawn(function()
    local Players = game:GetService("Players")
    local ReplicatedStorage = game:GetService("ReplicatedStorage")
    local player = Players.LocalPlayer
    local gui = player:WaitForChild("PlayerGui")
    local unitsFolder = player:WaitForChild("UnitsFolder", 9e9)

    -- Remote Paths
    local remoteFolder = ReplicatedStorage:WaitForChild("Remote", 9e9)
    local serverRemotes = remoteFolder:WaitForChild("Server", 9e9)
    local votePath = serverRemotes:WaitForChild("OnGame", 9e9):WaitForChild("Voting", 9e9)
    local upgradeRemote = serverRemotes:WaitForChild("Units", 9e9):WaitForChild("Upgrade", 9e9)
    local statsManagerRemote = serverRemotes:WaitForChild("Gameplay", 9e9):WaitForChild("StatsManager", 9e9)
    local votePlayingRemote = votePath:WaitForChild("VotePlaying", 9e9)

    -- Cache HUD Path
    local hud = gui:WaitForChild("HUD", 9e9)
    local inGameUI = hud and hud:WaitForChild("InGame", 9e9)
    local votePlayingUI = inGameUI and inGameUI:WaitForChild("VotePlaying", 9e9)

    while wait() do
        pcall(function()
            if _G.SST.Wait_For_Upgrade_Unit then
                if PlayerData.Data.AutoPlay.Value == true then
                    AutoPlayRemote:FireServer() 
                    _G.SST.Auto_Play = false
                else
                    -- ไม่จำเป็นต้องระบุเงื่อนไขใน else
                    for _, unit in ipairs(unitsFolder:GetChildren()) do
                        if unit:IsA("Instance") then
                            if sst.Select_Unit == "All Unit" or unit.Name == sst.Select_Unit then
                                upgradeRemote:FireServer(unit)
                                wait(4)
                                _G.SST.Auto_Play = true
                             if PlayerData.Data.AutoPlay.Value == true and _G.SST.Auto_Play then
                                AutoPlayRemote:FireServer() 
                             end
                            end
                        end
                    end
                end
            end
        end)
    end
end)



AP:AddToggleR("Auto Upgrade Yen", _G.SST.Auto_Upgtade_Maxyen, function(state)
    Auto_Upgtade_Maxyen = state
	_G.SST.Auto_Upgtade_Maxyen = Auto_Upgtade_Maxyen 
    SS()
end)

-- ✅ Repacked & Optimized Rexer Anime Rangers X

local Players = game:GetService("Players")
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local RunService = game:GetService("RunService")
local CoreGui = game:GetService("CoreGui")
local TeleportService = game:GetService("TeleportService")
local VirtualUser = game:GetService("VirtualUser")
local Lighting = game:GetService("Lighting")
local Terrain = workspace:FindFirstChildOfClass("Terrain")
local Player = Players.LocalPlayer

local JobId = game.JobId
local PlaceId = game.PlaceId





task.spawn(function()
	local Players = game:GetService("Players")
	local ReplicatedStorage = game:GetService("ReplicatedStorage")
	local player = Players.LocalPlayer
	local gui = player:WaitForChild("PlayerGui")
	local unitsFolder = player:WaitForChild("UnitsFolder", 9e9)
	-- Remote Paths
	local remoteFolder = ReplicatedStorage:WaitForChild("Remote", 9e9)
	local serverRemotes = remoteFolder:WaitForChild("Server", 9e9)
	local votePath = serverRemotes:WaitForChild("OnGame", 9e9):WaitForChild("Voting", 9e9)
	local upgradeRemote = serverRemotes:WaitForChild("Units", 9e9):WaitForChild("Upgrade", 9e9)
	local statsManagerRemote = serverRemotes:WaitForChild("Gameplay", 9e9):WaitForChild("StatsManager", 9e9)
	local votePlayingRemote = votePath:WaitForChild("VotePlaying", 9e9)

	-- Cache HUD Path
	local hud = gui:WaitForChild("HUD", 9e9)
	local inGameUI = hud and hud:WaitForChild("InGame", 9e9)
	local votePlayingUI = inGameUI and inGameUI:WaitForChild("VotePlaying", 9e9)

	while task.wait(0.7) do
		local sst = _G.SST
		if not sst then continue end

		-- Auto Vote
local vim = game:GetService("VirtualInputManager")
local visual = workspace:FindFirstChild("Visual")

if sst.Auto_Vote and sst.Select_Vote and visual then
	pcall(function()
		local voteName = typeof(sst.Select_Vote) == "table" and sst.Select_Vote[math.random(1, #sst.Select_Vote)] or nil
		local voteRemote = voteName and votePath:FindFirstChild(voteName)
		local rewardsUI = gui:FindFirstChild("RewardsUI")
		
		if voteRemote then
			local hasModel = false
			for _, child in ipairs(visual:GetChildren()) do
				if child:IsA("Model") then
					hasModel = true
					local clickX, clickY = 100, 200
					vim:SendMouseButtonEvent(clickX, clickY, 0, true, game, 0)
					vim:SendMouseButtonEvent(clickX, clickY, 0, false, game, 0)
				end
			end
			if not hasModel and rewardsUI and rewardsUI.Enabled then
				voteRemote:FireServer()
			end
		end
	end)
end






		-- Auto Upgrade (เฉพาะตัวที่เลือก)
		if sst.Auto_Upgrade and sst.Select_Unit then
	local player = game:GetService("Players").LocalPlayer
	local yenValue = player.PlayerGui.HUD.InGame.Main.Stats.Yen.YenValue.Value

	for _, unit in ipairs(unitsFolder:GetChildren()) do
		if unit:IsA("Instance") then
			if sst.Select_Unit == "All Unit" or unit.Name == sst.Select_Unit then
				local costTextObj = player.PlayerGui.HUD.InGame.UnitsManager.Main.Main.ScrollingFrame:FindFirstChild(unit.Name)
				if costTextObj and costTextObj:FindFirstChild("CostText") then
					local costText = costTextObj.CostText.Text
					local cost = tonumber(costText:match("Cost:</font>%s*(%d+)")) or 0

					if yenValue >= cost then
						pcall(function()
							task.wait(0.2)
							upgradeRemote:FireServer(unit)
						end)
					end
				end
			end
		end
	end
end


		-- Auto Upgrade Max Yen
		if sst.Auto_Upgrade_Maxyen then
			pcall(function()
				statsManagerRemote:FireServer("MaximumYen")
			end)
		end

		-- Auto Vote Start
		if sst.Auto_Vote_Start and votePlayingUI and votePlayingUI.Visible then
			task.wait(sst.Select_Deley_Vote) -- ป้องกัน nil
			pcall(function()
				votePlayingRemote:FireServer()
			end)
		end
	end
end)

WH:AddSeperatorL("Code")
WH:AddButtonL("Redreem All Code",function()
    -- รายชื่อโค้ดล่าสุดสำหรับ Anime Rangers X (อัปเดต พ.ค. 2025)
local redeemCodes = {
	"SorryForIssues",
	"Im Back",
	"125M Visits",
	"100K CCU",
	"Easter Egg 2025!",
    "CongratsFor1M"
}

-- Remote สำหรับใส่โค้ด
local codeRemote = game:GetService("ReplicatedStorage").Remote.Server.Lobby.Code

-- ใส่แต่ละโค้ดโดยอัตโนมัติ
for _, code in ipairs(redeemCodes) do
	pcall(function()
		codeRemote:FireServer(code)
	end)
end
end)
WH:AddSeperatorR("WebHook")
_G.SST.Place_WebHook_Link = _G.SST.Place_WebHook_Link or ""

WH:AddTextboxR("Place WebHook Link", _G.SST.Place_WebHook_Link, " . . . ", function(value)
    Place_WebHook_Link = value
    _G.SST.Place_WebHook_Link = Place_WebHook_Link
    pcall(SS)
end)

WH:AddToggleR("Send WebHook", _G.SST.Send_WebHook or false, function(value)
    Send_WebHook = value
    _G.SST.Send_WebHook = Send_WebHook
    pcall(SS)
end)

local HttpService = game:GetService("HttpService")
local RunService = game:GetService("RunService")
local Players = game:GetService("Players")
local hasSent = false
local function sendWebhook(Name, RewardsText, GameTime, player)
    local url = _G.SST.Place_WebHook_Link
    if not url or url == "" then
        warn("Invalid Webhook URL")
        return
    end

    local namePymain = Name
    local playerData = game:GetService("ReplicatedStorage").Player_Data:FindFirstChild(namePymain)

    if not playerData then
        warn("Player data not found for:", namePymain)
        return
    end

    local fields = {}

    -- Total Info Field
    table.insert(fields, {
        ["name"] = "📊 Total 📊",
        ["value"] = "```Name      : " .. Name ..
                    "\nGem       : " .. playerData.Data.Gem.Value ..
                    "\nGold      : " .. playerData.Data.Gold.Value ..
                    "\nLevel     : " .. playerData.Data.Level.Value ..
                    "    Exp : " .. playerData.Data.Exp.Value ..
                    "\nEgg : " .. playerData.Data.Egg.Value .. "```"
    })

    -- Time Field
    table.insert(fields, {
        ["name"] = "⌛ Time ⌛",
        ["value"] = "```" .. GameTime .. "```"
    })

    -- Rewards Field
    table.insert(fields, {
        ["name"] = "🎁 Rewards 🎁",
        ["value"] = "```" .. RewardsText .. "```"
    })

    local data = {
        ["content"] = "",
        ["embeds"] = {
            {
                ["author"] = { ["name"] = "ReBornxer Hub WebHook" },
                ["type"] = "rich",
                ["title"] = "Anime Rangers X",
                ["color"] = tonumber(0x13da),
                ["fields"] = fields
            }
        }
    }

    local jsonData = HttpService:JSONEncode(data)
    local headers = { ["Content-Type"] = "application/json" }

    local request = http_request or request or HttpPost or syn.request
    if request then
        local response = request({
            Url = url,
            Body = jsonData,
            Method = "POST",
            Headers = headers
        })
        if not response or response.StatusCode ~= 200 then
            warn("Failed to send webhook. Status Code:", response and response.StatusCode)
        end
    else
        warn("HTTP request function not available.")
    end
end
local hasSent = false
local OffSent = false

spawn(function()
    while wait() do
        local player = Players.LocalPlayer
        if player.PlayerGui:FindFirstChild("RewardsUI") then
            OffSent = not player.PlayerGui.RewardsUI.Enabled
        end
    end
end)

RunService.Heartbeat:Connect(function()
    pcall(function()
        local player = Players.LocalPlayer
        if _G.SST.Send_WebHook and OffSent then
            local rewardsUI = player.PlayerGui:FindFirstChild("RewardsUI")
            
            if rewardsUI and rewardsUI.Enabled then
                if not hasSent then
                    local Name = player.Name
                    local GameTime = rewardsUI.Main.LeftSide.TotalTime.Text
                    local rewardsText = ""
                    local rewardsFrame = player:FindFirstChild("RewardsShow")

                    if rewardsFrame then
                        for _, rewardItem in ipairs(rewardsFrame:GetChildren()) do
                            if rewardItem:IsA("Folder") then
                                local amt = rewardItem:FindFirstChild("Amount")
                                local amount = nil
                                if amt then
                                    if amt:IsA("TextLabel") then
                                        amount = amt.Text
                                    elseif amt:IsA("IntValue") or amt:IsA("NumberValue") or amt:IsA("StringValue") then
                                        amount = amt.Value
                                    end
                                end
                                if amount then
                                    rewardsText = rewardsText .. rewardItem.Name .. ": " .. tostring(amount) .. "\n"
                                end
                            end
                        end
                    end

                    sendWebhook(Name, rewardsText, GameTime, player)
                    hasSent = true
                    OffSent = false
                end
            else
                hasSent = false
            end
        end
    end)
end)



WH:AddSeperatorR("BostFps")

-- ตั้งชื่อเอฟเฟกต์หลักและชื่อที่ใช้ตอนปิด
local EffectsName = "Effects"
local EffectsHiddenName = "Effects_Hidden"

local UnitAttacksEffectName = "UnitAttacks"
local UnitAttacksEffectHiddenName = "UnitAttacks_Hidden"

-- ปุ่ม Toggle เพื่อปิด/เปิด Effects
WH:AddToggleR("Disable Effects", _G.SST.Disible_Effects, function(value)
	_G.SST.Disible_Effects = value

	local effectsFolder = game:GetService("ReplicatedStorage").Assets:FindFirstChild(EffectsName) or
	                       game:GetService("ReplicatedStorage").Assets:FindFirstChild(EffectsHiddenName)
local UnitAttacksEffectFolder = game:GetService("ReplicatedStorage"):FindFirstChild(UnitAttacksEffectName) or
	                       game:GetService("ReplicatedStorage"):FindFirstChild(UnitAttacksEffectHiddenName)

	if effectsFolder then
		if value then
			effectsFolder.Name = EffectsHiddenName
		else
			effectsFolder.Name = EffectsName
		end
	end

	if UnitAttacksEffectFolder then
		if value then
			UnitAttacksEffectFolder.Name = EffectsHiddenName
		else
			UnitAttacksEffectFolder.Name = EffectsName
		end
	end

	-- ฟังก์ชัน SS() หากจำเป็น
	if typeof(SS) == "function" then
		SS()
	end
end)

local player = game:GetService("Players").LocalPlayer
local playerGui = player:WaitForChild("PlayerGui")
local blackScreenUI = nil

-- ฟังก์ชันสำหรับเปิด/ปิดจอดำ
local function toggleBlackScreen(enable)
    if not enable then
        -- ถ้าปิดจอดำ ให้ซ่อน UI
        if blackScreenUI then
            blackScreenUI.Enabled = false
        end
        return
    end

    -- ถ้าจอดำมีอยู่แล้ว ให้แสดง UI
    if blackScreenUI then
        blackScreenUI.Enabled = true
        return
    end

    -- สร้าง UI จอดำใหม่
    blackScreenUI = Instance.new("ScreenGui")
    blackScreenUI.Name = "Blackscreen"
    blackScreenUI.DisplayOrder = 1 -- ให้แสดงอยู่เหนือ UI อื่นๆ
    blackScreenUI.ResetOnSpawn = false -- UI จะไม่หายไปเมื่อผู้เล่นตายหรือเกิดใหม่
    blackScreenUI.IgnoreGuiInset = true -- ให้จอดำครอบคลุมพื้นที่เต็มจอ
    blackScreenUI.Parent = playerGui

    -- สร้างเฟรมสีดำ
    local uiFrame = Instance.new("Frame")
    uiFrame.BackgroundColor3 = Color3.new(0, 0, 0) -- สีดำสนิท
    uiFrame.Size = UDim2.new(1, 0, 1, 0) -- เต็มหน้าจอ
    uiFrame.Position = UDim2.new(0, 0, 0, 0) -- มุมบนซ้าย
    uiFrame.BorderSizePixel = 0 -- ไม่มีขอบ
    uiFrame.Parent = blackScreenUI
end

-- เปลี่ยนมาใช้ตัวแปรแทนการเก็บสถานะใน _G
-- เพิ่มปุ่ม toggle (สมมติว่า Misc:AddToggleR เป็นฟังก์ชันจากระบบที่ใช้งานอยู่)
WH:AddToggleR("Black Screen",_G.SST.Black_Screen, function(value)
    Black_Screen = value
	_G.SST.Black_Screen = Black_Screen
    SS() -- ฟังก์ชันเพิ่มเติมที่คุณมีในระบบ
    if value then
        -- ปิดการแสดงผล 3D และเปิดจอดำ
        game:GetService("RunService"):Set3dRenderingEnabled(false)
        toggleBlackScreen(true)
    else
        -- เปิดการแสดงผล 3D และปิดจอดำ
        game:GetService("RunService"):Set3dRenderingEnabled(true)
        toggleBlackScreen(false)
    end
end)

WH:AddToggleR("Boost Fps",_G.SST.Boost_Fps,function(val)
	Boost_Fps = val
 _G.SST.Boost_Fps = Boost_Fps
 SS()
end)

local RunService = game:GetService("RunService")
local Players = game:GetService("Players")
local Lighting = game:GetService("Lighting")
local Terrain = workspace:FindFirstChildOfClass("Terrain")

local boosted = false

-- แยกเก็บค่าปกติเพื่อคืนค่าตอนปิด
local originalSettings = {
	Terrain = {},
	Lighting = {},
	Effects = {},
}

-- ลดกราฟิก
local function enableBoost()
	if Terrain then
		originalSettings.Terrain = {
			WaterWaveSize = Terrain.WaterWaveSize,
			WaterWaveSpeed = Terrain.WaterWaveSpeed,
			WaterReflectance = Terrain.WaterReflectance,
			WaterTransparency = Terrain.WaterTransparency
		}
		Terrain.WaterWaveSize = 0
		Terrain.WaterWaveSpeed = 0
		Terrain.WaterReflectance = 0
		Terrain.WaterTransparency = 1
	end

	if Lighting then
		originalSettings.Lighting = {
			GlobalShadows = Lighting.GlobalShadows,
			FogEnd = Lighting.FogEnd,
			Brightness = Lighting.Brightness
		}
		Lighting.GlobalShadows = false
		Lighting.FogEnd = 1e10
		Lighting.Brightness = 0

		for _, v in ipairs(Lighting:GetChildren()) do
			if v:IsA("PostEffect") then
				originalSettings.Effects[v.Name] = v.Enabled
				v.Enabled = false
			end
		end
	end

	for _, obj in ipairs(workspace:GetDescendants()) do
		if obj:IsA("BasePart") or obj:IsA("MeshPart") then
			obj.Material = Enum.Material.SmoothPlastic
			obj.Reflectance = 0
			obj.CastShadow = false
		elseif obj:IsA("Decal") or obj:IsA("Texture") then
			obj.Transparency = 1
		elseif obj:IsA("ParticleEmitter") or obj:IsA("Trail") then
			obj.Enabled = false
		elseif obj:IsA("Sound") then
			obj.Volume = 0
		elseif obj:IsA("Fire") or obj:IsA("Smoke") or obj:IsA("Sparkles") or obj:IsA("SpotLight") then
			obj.Enabled = false
		elseif obj:IsA("Clothing") then
			obj:Destroy()
		end
	end

	pcall(function()
		settings().Rendering.QualityLevel = Enum.QualityLevel.Level01
	end)

	print("✅ Boost FPS: ON")
end

-- คืนค่ากราฟิก
local function disableBoost()
	if Terrain and originalSettings.Terrain then
		for k, v in pairs(originalSettings.Terrain) do
			Terrain[k] = v
		end
	end

	if Lighting and originalSettings.Lighting then
		for k, v in pairs(originalSettings.Lighting) do
			Lighting[k] = v
		end

		for _, v in ipairs(Lighting:GetChildren()) do
			if v:IsA("PostEffect") and originalSettings.Effects[v.Name] ~= nil then
				v.Enabled = originalSettings.Effects[v.Name]
			end
		end
	end

	print("🔄 Boost FPS: OFF (restored settings)")
end

-- ตัวจับ toggle
RunService.Heartbeat:Connect(function()
	if _G.SST and _G.SST.Boost_Fps then
		if not boosted then
			boosted = true
			task.spawn(enableBoost)
		end
	else
		if boosted then
			boosted = false
			task.spawn(disableBoost)
		end
	end
end)



-- สร้าง Slider สำหรับการเลือก Frame Rate
Select_Farme_Rate = _G.SST.Select_Farme_Rate
WH:AddSliderR("Select Frame Rate", 0, 240, _G.SST.Select_Farme_Rate, function(a)
    Select_Farme_Rate = a -- ใช้ตัวแปร a แทนค่า Select_Farme_Rate
	_G.SST.Select_Farme_Rate = Select_Farme_Rate
    SS() -- ฟังก์ชันเพิ่มเติม
end)

-- ✅ Frame Rate Cap
spawn(function()
	while task.wait(1) do
		pcall(function()
			if type(_G.SST.Select_Farme_Rate) == "number" and _G.SST.Select_Farme_Rate > 0 then
				setfpscap(_G.SST.Select_Farme_Rate)
			end
		end)
	end
end)




WH:AddSeperatorR("Misc")
WH:AddToggleR("Anti AFK",_G.SST.Anti_AFK,function(value)
Anti_AFK = value
_G.SST.Anti_AFK = Anti_AFK
SS()
end)

-- ✅ Anti-AFK
spawn(function()
	local connected = false
	while task.wait(1) do
		if _G.SST and _G.SST.Anti_AFK and not connected then
			connected = true
			Players.LocalPlayer.Idled:Connect(function()
				VirtualUser:Button2Down(Vector2.new(9999,9999), workspace.CurrentCamera.CFrame)
				task.wait(1)
				VirtualUser:Button2Up(Vector2.new(9999,9999), workspace.CurrentCamera.CFrame)
			end)
		end
	end
end)


WH:AddToggleR("Auto Kick Rejoin",_G.SST.Auto_Kick_Rejoin,function(value)
Auto_Kick_Rejoin = value
_G.SST.Auto_Kick_Rejoin = Auto_Kick_Rejoin
SS()
end)

spawn(function()
	while wait() do
		if _G.SST.Auto_Kick_Rejoin then
			Auto_Kick_Rejoin = game:GetService("CoreGui").RobloxPromptGui.promptOverlay.ChildAdded:Connect(function(child)
				if child.Name == 'ErrorPrompt' and child:FindFirstChild('MessageArea') and child.MessageArea:FindFirstChild("ErrorFrame") then
					game:GetService("TeleportService"):Teleport(72829404259339)
				end
			end)
		end
	end
end)

local namePymain = game.Players.LocalPlayer.Name
CH:AddSeperatorL("Item")
CH:AddSeperatorR("Info")
CH:AddLabelR("Name  : "..game.Players.LocalPlayer.Name)
local LV = CH:AddLabelR("")
local GemAmount = CH:AddLabelR("")
local GoleAmount = CH:AddLabelR("")
local EggEsterAmount = CH:AddLabelR("")

spawn(function()
    while wait(1) do
        pcall(function()
                    EggEsterAmount:Set("Egg  : "..game:GetService("ReplicatedStorage").Player_Data:FindFirstChild(namePymain).Data.Egg.Value)
					GoleAmount:Set("Gold  : "..game:GetService("ReplicatedStorage").Player_Data:FindFirstChild(namePymain).Data.Gold.Value)
			    	GemAmount:Set("Gem  : "..game:GetService("ReplicatedStorage").Player_Data:FindFirstChild(namePymain).Data.Gem.Value)
					LV:Set("Level  : "..game:GetService("ReplicatedStorage").Player_Data:FindFirstChild(namePymain).Data.Level.Value.. "    Exp : "..game:GetService("ReplicatedStorage").Player_Data:FindFirstChild(namePymain).Data.Exp.Value)
        end)
    end
end)


local ReplicatedStorage = game:GetService("ReplicatedStorage")
local itemsFolder = ReplicatedStorage.Player_Data:FindFirstChild(namePymain).Items

local itemLabels = {} 

local sortedItems = itemsFolder:GetChildren()
table.sort(sortedItems, function(a, b)
    return a.Name:lower() < b.Name:lower()
end)

for _, item in ipairs(sortedItems) do
    local itemName = item.Name
    local label = CH:AddLabelL("" .. itemName .. " : Loading...")
    itemLabels[itemName] = label
end

spawn(function()
    while wait(1) do
        pcall(function()
            for _, item in ipairs(itemsFolder:GetChildren()) do
                local itemName = item.Name
                local amount = item:FindFirstChild("Amount")
                local label = itemLabels[itemName]

                if label and amount then
                    label:Set("" .. itemName .. " : " .. amount.Value)
                end
            end
        end)
    end
end)

